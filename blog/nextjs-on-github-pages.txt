3:I[9275,[],""]
5:I[1343,[],""]
6:I[1847,["231","static/chunks/231-f3033bef0603fe37.js","468","static/chunks/468-e9023b9c3286832f.js","221","static/chunks/app/(footer)/template-e0ebcee4b622fbcb.js"],"default"]
7:I[2823,["231","static/chunks/231-f3033bef0603fe37.js","468","static/chunks/468-e9023b9c3286832f.js","160","static/chunks/app/not-found-c7487b1d2fc77b3a.js"],"default"]
4:["slug","nextjs-on-github-pages","d"]
0:["0rd5PIwG0b5gHfm2Y3HkT",[[["",{"children":["(footer)",{"children":["blog",{"children":[["slug","nextjs-on-github-pages","d"],{"children":["__PAGE__?{\"slug\":\"nextjs-on-github-pages\"}",{}]}]}]}]},"$undefined","$undefined",true],["",{"children":["(footer)",{"children":["blog",{"children":[["slug","nextjs-on-github-pages","d"],{"children":["__PAGE__",{},[["$L1","$L2"],null],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","(footer)","children","blog","children","$4","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/26258e3a43099a46.css","precedence":"next","crossOrigin":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/ece488cb6f5ac622.css","precedence":"next","crossOrigin":"$undefined"}],["$","link","2",{"rel":"stylesheet","href":"/_next/static/css/1bc4b4b145015141.css","precedence":"next","crossOrigin":"$undefined"}]]}],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","(footer)","children","blog","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","(footer)","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{"children":["$","$L5",null,{}]}],"templateStyles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/26258e3a43099a46.css","precedence":"next","crossOrigin":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/58ead6185606200e.css","precedence":"next","crossOrigin":"$undefined"}]],"templateScripts":[],"notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},[["$","html",null,{"lang":"en","className":"__className_b1da2a __variable_153971","children":["$","body",null,{"children":["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":["$","$L7",null,{}],"notFoundStyles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/26258e3a43099a46.css","precedence":"next","crossOrigin":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/58ead6185606200e.css","precedence":"next","crossOrigin":"$undefined"}]],"styles":null}]}]}],null],null],[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/1331fa7d2663df05.css","precedence":"next","crossOrigin":"$undefined"}]],"$L8"]]]]
9:I[231,["676","static/chunks/870fdd6f-1a10f7d666daeecf.js","231","static/chunks/231-f3033bef0603fe37.js","324","static/chunks/324-2e5453e34a6766f9.js","878","static/chunks/app/(footer)/blog/%5Bslug%5D/page-292b3a2acfd81922.js"],""]
2:["$","section",null,{"className":"Section_section__TwzwZ _slug__blog-post__J_WHQ Section_section--grow__nvWNJ","children":[null,null,null,["$","div",null,{"className":"Container_container__UkED_","children":[["$","p",null,{"className":"shared_page__descriptor__fv7Ns shared_page__descriptor--small__xTMN3 shared_page__descriptor--spaced__KJLOY","children":["$","$L9",null,{"href":"/blog","target":"$undefined","className":"InternalLink_link__ff_ZV InternalLink_link--icon__fDFi5","children":[["$","svg",null,{"aria-hidden":"true","focusable":"false","data-prefix":"fas","data-icon":"arrow-left-long","className":"svg-inline--fa fa-arrow-left-long shared_page__back-icon__uWmVw","role":"img","xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 512 512","style":{},"children":["$","path",null,{"fill":"currentColor","d":"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 288 480 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-370.7 0 73.4-73.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-128 128z","style":{}}]}],"Back to posts"]}]}],["$","h1",null,{"className":"TitleShape_title-shape-heading__JBKhQ _slug__blog-post__title__MIwff","children":["Next.js on GitHub Pages",["$","div",null,{"className":"TitleShape_title-shape__rL3XS","children":["$","svg",null,{"aria-hidden":"true","focusable":"false","data-prefix":"fas","data-icon":"code","className":"svg-inline--fa fa-code TitleShape_title-shape-icon__mVPnv","role":"img","xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 640 512","style":{},"children":["$","path",null,{"fill":"currentColor","d":"M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z","style":{}}]}]}]]}],["$","p",null,{"className":"shared_page__descriptor__fv7Ns","children":"A short guide to automating deploying a static Next.js site on GitHub Pages."}],["$","p",null,{"className":"shared_page__descriptor__fv7Ns shared_page__descriptor--small__xTMN3 shared_page__descriptor--italic__4TkK0","children":"June 5, 2024"}],null,["$","article",null,{"className":"_slug__blog-post__content__VXakY","children":"$La"}],["$","div",null,{"className":"shared_pagination__eZWQF","children":[null,["$","$L9",null,{"href":"/blog/spring-game-ratings","target":"$undefined","className":"InternalLink_link__ff_ZV shared_pagination__previous__k7DVH InternalLink_link--icon__fDFi5","children":["Previous post",["$","svg",null,{"aria-hidden":"true","focusable":"false","data-prefix":"fas","data-icon":"arrow-right-long","className":"svg-inline--fa fa-arrow-right-long shared_page__next-icon__PrK6O","role":"img","xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 512 512","style":{},"children":["$","path",null,{"fill":"currentColor","d":"M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z","style":{}}]}]]}]]}]]}]]}]
8:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"Next.js on GitHub Pages | Alex Craig"}],["$","meta","3",{"name":"description","content":"A short guide to automating deploying a static Next.js site on GitHub Pages."}],["$","link","4",{"rel":"manifest","href":"/manifest.webmanifest","crossOrigin":"use-credentials"}],["$","meta","5",{"property":"og:title","content":"Next.js on GitHub Pages | Alex Craig"}],["$","meta","6",{"property":"og:description","content":"A short guide to automating deploying a static Next.js site on GitHub Pages."}],["$","meta","7",{"property":"og:url","content":"https://im-sticky.github.io/blog/nextjs-on-github-pages"}],["$","meta","8",{"property":"og:site_name","content":"Alex Craig Website"}],["$","meta","9",{"property":"og:image","content":"https://im-sticky.github.io/default-share.png"}],["$","meta","10",{"property":"og:type","content":"website"}],["$","meta","11",{"name":"twitter:card","content":"summary"}],["$","meta","12",{"name":"twitter:site","content":"@im_sticky"}],["$","meta","13",{"name":"twitter:title","content":"Next.js on GitHub Pages | Alex Craig"}],["$","meta","14",{"name":"twitter:description","content":"A short guide to automating deploying a static Next.js site on GitHub Pages."}],["$","meta","15",{"name":"twitter:image","content":"https://im-sticky.github.io/default-share.png"}],["$","link","16",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"48x48"}],["$","meta","17",{"name":"next-size-adjust"}]]
1:null
a:[["$","p",null,{"children":["$","em",null,{"children":["Vercel has an ",["$","a",null,{"href":"https://github.com/vercel/next.js/tree/main/examples/github-pages","target":"_blank","rel":"nofollow noreferrer noopener","className":"ExternalLink_external-link__Q5CsB","children":["official example",[" ",["$","svg",null,{"aria-hidden":"true","focusable":"false","data-prefix":"fas","data-icon":"up-right-from-square","className":"svg-inline--fa fa-up-right-from-square ExternalLink_external-link__icon__8qJcV","role":"img","xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 512 512","style":{},"children":["$","path",null,{"fill":"currentColor","d":"M352 0c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9L370.7 96 201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L416 141.3l41.4 41.4c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6V32c0-17.7-14.3-32-32-32H352zM80 32C35.8 32 0 67.8 0 112V432c0 44.2 35.8 80 80 80H400c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32V432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V112c0-8.8 7.2-16 16-16H192c17.7 0 32-14.3 32-32s-14.3-32-32-32H80z","style":{}}]}]]]}]," for deploying to GitHub Pages. Look at this as well to make an informed decision on what strategy works best for you."]}]}],"\n",["$","p",null,{"children":["My original setup for hosting a static ",["$","a",null,{"href":"https://nextjs.org/","target":"_blank","rel":"nofollow noreferrer noopener","className":"ExternalLink_external-link__Q5CsB","children":["Next.js",[" ",["$","svg",null,{"aria-hidden":"true","focusable":"false","data-prefix":"fas","data-icon":"up-right-from-square","className":"svg-inline--fa fa-up-right-from-square ExternalLink_external-link__icon__8qJcV","role":"img","xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 512 512","style":{},"children":["$","path",null,{"fill":"currentColor","d":"M352 0c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9L370.7 96 201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L416 141.3l41.4 41.4c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6V32c0-17.7-14.3-32-32-32H352zM80 32C35.8 32 0 67.8 0 112V432c0 44.2 35.8 80 80 80H400c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32V432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V112c0-8.8 7.2-16 16-16H192c17.7 0 32-14.3 32-32s-14.3-32-32-32H80z","style":{}}]}]]]}]," site on ",["$","a",null,{"href":"https://pages.github.com/","target":"_blank","rel":"nofollow noreferrer noopener","className":"ExternalLink_external-link__Q5CsB","children":["GitHub Pages",[" ",["$","svg",null,{"aria-hidden":"true","focusable":"false","data-prefix":"fas","data-icon":"up-right-from-square","className":"svg-inline--fa fa-up-right-from-square ExternalLink_external-link__icon__8qJcV","role":"img","xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 512 512","style":{},"children":["$","path",null,{"fill":"currentColor","d":"M352 0c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9L370.7 96 201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L416 141.3l41.4 41.4c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6V32c0-17.7-14.3-32-32-32H352zM80 32C35.8 32 0 67.8 0 112V432c0 44.2 35.8 80 80 80H400c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32V432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V112c0-8.8 7.2-16 16-16H192c17.7 0 32-14.3 32-32s-14.3-32-32-32H80z","style":{}}]}]]]}]," was made using a blog post that unfortunately no longer exists. So here is a guide for what I have now."]}],"\n",["$","h2",null,{"children":"Configure Next.js"}],"\n",["$","blockquote",null,{"children":["\n",["$","p",null,{"children":"📢 This guide is using Next.js version 14 using app router."}],"\n"]}],"\n",["$","p",null,{"children":["In your ",["$","code",null,{"children":"next.config.js"}]," file add the following:"]}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"const nextConfig = {\n  output: 'export',\n  // Any other config options\n};\n\nmodule.exports = nextConfig;\n"}]}],"\n",["$","p",null,{"children":["In your ",["$","code",null,{"children":"/app/layout.tsx"}]," file add the following at the bottom of the file:"]}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"export const dynamic = 'force-static';\n"}]}],"\n",["$","p",null,{"children":["Lastly add a blank ",["$","code",null,{"children":".nojekyll"}]," file in the ",["$","code",null,{"children":"/public/"}]," folder to disable GitHub Pages from trying to create a Jekyll website."]}],"\n",["$","h2",null,{"children":"Setup GitHub repository"}],"\n",["$","p",null,{"children":"Configure your repo for automating deployments."}],"\n",["$","h3",null,{"children":"Enable GitHub Pages"}],"\n",["$","p",null,{"children":"To enable Pages in your GitHub repo:"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":["Create and push a ",["$","strong",null,{"children":"gh-pages"}]]}],"\n",["$","li",null,{"children":["Go to ",["$","strong",null,{"children":"Settings -> Pages"}]]}],"\n",["$","li",null,{"children":["Set the ",["$","strong",null,{"children":"Build and deployment -> Source"}]," to ",["$","strong",null,{"children":"Deploy from a branch"}]]}],"\n",["$","li",null,{"children":["Set the branch to ",["$","strong",null,{"children":"gh-pages"}]]}],"\n",["$","li",null,{"children":["Set the folder to ",["$","strong",null,{"children":"/ (root)"}]]}],"\n",["$","li",null,{"children":"Save"}],"\n"]}],"\n",["$","h3",null,{"children":"Generate deploy keys"}],"\n",["$","p",null,{"children":["For ",["$","a",null,{"href":"https://docs.github.com/en/actions","target":"_blank","rel":"nofollow noreferrer noopener","className":"ExternalLink_external-link__Q5CsB","children":["GitHub Actions",[" ",["$","svg",null,{"aria-hidden":"true","focusable":"false","data-prefix":"fas","data-icon":"up-right-from-square","className":"svg-inline--fa fa-up-right-from-square ExternalLink_external-link__icon__8qJcV","role":"img","xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 512 512","style":{},"children":["$","path",null,{"fill":"currentColor","d":"M352 0c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9L370.7 96 201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L416 141.3l41.4 41.4c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6V32c0-17.7-14.3-32-32-32H352zM80 32C35.8 32 0 67.8 0 112V432c0 44.2 35.8 80 80 80H400c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32V432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V112c0-8.8 7.2-16 16-16H192c17.7 0 32-14.3 32-32s-14.3-32-32-32H80z","style":{}}]}]]]}]," to commit and push to the ",["$","code",null,{"children":"gh-pages"}]," branch you need to generate public and private keys for it to authenticate."]}],"\n",["$","p",null,{"children":"In your Next.js root directory run the following command:"}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"ssh-keygen -t rsa -b 4096 -C \"$(git config user.email)\" -f gh-pages -N \"\"\n"}]}],"\n",["$","h3",null,{"children":"Setup deploy key"}],"\n",["$","p",null,{"children":"In your GitHub repo:"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":["Go to ",["$","strong",null,{"children":"Settings -> Deploy Keys"}]]}],"\n",["$","li",null,{"children":["Click ",["$","strong",null,{"children":"Add deploy key"}]]}],"\n",["$","li",null,{"children":["Add title: ",["$","strong",null,{"children":"Public key of ACTIONS_DEPLOY_KEY"}]]}],"\n",["$","li",null,{"children":["Add key: ",["$","em",null,{"children":"copy and paste the public key you just generated"}]]}],"\n",["$","li",null,{"children":"Check: Allow write access"}],"\n",["$","li",null,{"children":"Add key"}],"\n"]}],"\n",["$","h3",null,{"children":"Setup private key"}],"\n",["$","p",null,{"children":"In your GitHub repo:"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":["Go to ",["$","strong",null,{"children":"Settings -> Secrets and variables -> Actions"}]]}],"\n",["$","li",null,{"children":["Click ",["$","strong",null,{"children":"New repository secret"}]]}],"\n",["$","li",null,{"children":["Add name: ",["$","strong",null,{"children":"ACTIONS_DEPLOY_KEY"}]]}],"\n",["$","li",null,{"children":["Add secret: ",["$","em",null,{"children":"copy and paste the private key you just generated"}]]}],"\n",["$","li",null,{"children":"Add secret"}],"\n"]}],"\n",["$","p",null,{"children":["Now GitHub Actions is able to authenticate with your repo. Delete the two keys from your Next.js root directory. ",["$","strong",null,{"children":"Do not commit or share those files with anyone."}]]}],"\n",["$","h2",null,{"children":"Setup GitHub Actions"}],"\n",["$","p",null,{"children":["Add a workflow file ",["$","code",null,{"children":"/.github/workflows/deploy.yml"}],":"]}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"name: Deploy to Github Pages\n\non:\n  push:\n    branches:\n      - main\n\n  workflow_dispatch:\n\njobs:\n  deployment:\n    runs-on: ubuntu-latest\n\n    steps:\n      - uses: actions/checkout@v4.1.5\n\n      - name: Setup Node\n        uses: actions/setup-node@v4.0.2\n        with:\n          node-version: 'lts/*'\n          cache: 'npm'\n\n      - name: Build\n        run: |\n          npm i\n          npm run build\n      - name: Deploy\n        uses: peaceiris/actions-gh-pages@v4\n        with:\n          deploy_key: ${{ secrets.ACTIONS_DEPLOY_KEY }}\n          publish_dir: ./out\n"}]}],"\n",["$","h2",null,{"children":"Enjoy your site"}],"\n",["$","p",null,{"children":["You're done! Now whenever you push to the ",["$","code",null,{"children":"main"}]," branch your site will automatically build and deploy and be publicly available at ",["$","code",null,{"children":"repo-name.github.io"}],"."]}]]
