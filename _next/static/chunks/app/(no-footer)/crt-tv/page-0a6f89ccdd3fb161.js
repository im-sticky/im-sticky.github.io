(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[333],{1987:function(e,t,r){Promise.resolve().then(r.bind(r,6823)),Promise.resolve().then(r.t.bind(r,2550,23)),Promise.resolve().then(r.t.bind(r,1025,23))},6823:function(e,t,r){"use strict";r.d(t,{Crt:function(){return s}});var n=r(7437),c=r(2265),o=r(4839),l=r(1025),i=r.n(l);function s(e){let{clips:t}=e,[r,l]=(0,c.useState)(),[s,u]=(0,c.useState)(),[a,v]=(0,c.useState)(0),[f,_]=(0,c.useState)(100),[d,h]=(0,c.useState)(!1),[m,p]=(0,c.useState)(!1),[y,x]=(0,c.useState)(),w=(0,c.useRef)(null),g=(0,c.useRef)(null),j=(0,c.useRef)(null),b=(0,c.useRef)(null),N=()=>{if(w.current&&g.current&&j.current){let e=w.current.getBoundingClientRect();g.current.style.top="".concat(e.y,"px"),g.current.style.left="".concat(e.x,"px"),j.current.style.width="".concat(e.width*(4/3),"px"),j.current.style.height="".concat(e.height,"px")}};(0,c.useEffect)(()=>{x({power:{on:new Audio("/crt/power_on.mp3"),off:new Audio("/crt/power_off.mp3")},channel:new Audio("/crt/channel_change.mp3"),volume:new Audio("/crt/volume_change.mp3")});let e=t.map(e=>({value:e,sort:Math.random()})).sort((e,t)=>e.sort-t.sort).map(e=>{let{value:t}=e;return t});return l(e),u(e[a]),N(),window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]),(0,c.useEffect)(()=>{if(s){var e,t;null===(e=b.current)||void 0===e||e.load(),m&&(null===(t=b.current)||void 0===t||t.play())}},[null==s?void 0:s.slug]),(0,c.useEffect)(()=>{r&&u(r[a])},[a]),(0,c.useEffect)(()=>{b.current&&(m?(b.current.load(),b.current.play()):b.current.pause())},[m]),(0,c.useEffect)(()=>{if(!m||!b.current)return;f>=0&&f<=100&&(b.current.volume=f/100),h(!0);let e=setTimeout(()=>h(!1),1200);return()=>clearTimeout(e)},[f]);let k=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n=>{n.preventDefault(),(m||r)&&e(),null==t||t.play()}},E=e=>()=>{if(!r)return;let t=a+e;t<0?t=r.length-1:t>=r.length&&(t=0),v(t)},C=e=>()=>{let t=f+e;t<=100&&t>=0?_(t):(h(!0),setTimeout(()=>h(!1),1200))};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:i().container,ref:g,children:(0,n.jsxs)("div",{className:(0,o.Z)(i().crt,{[i()["crt--on"]]:m}),ref:j,children:[(0,n.jsx)("div",{className:i().screen,children:(0,n.jsx)("video",{loop:!0,className:i().video,ref:b,children:(0,n.jsx)("source",{src:"/crt/clips/".concat(null==s?void 0:s.slug,".").concat(null==s?void 0:s.mimetype),type:"video/".concat(null==s?void 0:s.mimetype)})})}),(0,n.jsx)("div",{className:i()["channel-overlay"],children:"AV-1"}),(0,n.jsx)("div",{className:(0,o.Z)(i()["volume-overlay"],{[i()["volume-overlay--active"]]:d}),children:function(e){let t=[];for(let r=1;r<=10;r++)t.push((0,n.jsx)("span",{className:(0,o.Z)(i()["volume-bar"],{[i()["volume-bar--active"]]:10*r<=e})},"vb.".concat(r)));return t}(f)})]})}),(0,n.jsx)("video",{autoPlay:!0,loop:!0,muted:!0,className:i().video__overlay,children:(0,n.jsx)("source",{src:"/crt/transparent-screen-crt.webm",type:"video/webm"})}),(0,n.jsxs)("svg",{viewBox:"0 0 1920 1080",preserveAspectRatio:"xMidYMid slice",className:i()["controls-map"],children:[(0,n.jsx)("rect",{ref:w,x:"589",y:"141",fill:"#fff",opacity:"0",width:"704",height:"530"}),(0,n.jsx)("a",{href:"#power",onClick:k(()=>p(!m),m?null==y?void 0:y.power.off:null==y?void 0:y.power.on,!0),children:(0,n.jsx)("rect",{x:"745",y:"911",fill:"#fff",opacity:"0",width:"35",height:"35"})}),(0,n.jsx)("a",{href:"#voldown",onClick:k(C(-10),null==y?void 0:y.volume),children:(0,n.jsx)("rect",{x:"1020",y:"917",fill:"#fff",opacity:"0",width:"25",height:"25"})}),(0,n.jsx)("a",{href:"#volup",onClick:k(C(10),null==y?void 0:y.volume),children:(0,n.jsx)("rect",{x:"1058",y:"917",fill:"#fff",opacity:"0",width:"25",height:"25"})}),(0,n.jsx)("a",{href:"#chandown",onClick:k(E(-1),null==y?void 0:y.channel),children:(0,n.jsx)("rect",{x:"1096",y:"917",fill:"#fff",opacity:"0",width:"25",height:"25"})}),(0,n.jsx)("a",{href:"#chanup",onClick:k(E(1),null==y?void 0:y.channel),children:(0,n.jsx)("rect",{x:"1134",y:"916",fill:"#fff",opacity:"0",width:"25",height:"25"})})]})]})}},1025:function(e){e.exports={section:"crt-tv_section__8hbBx",background:"crt-tv_background__h8VNe",video__overlay:"crt-tv_video__overlay__dEezX","controls-map":"crt-tv_controls-map__iUS4B",container:"crt-tv_container__Mapuz",crt:"crt-tv_crt__fh1st",video:"crt-tv_video__m6Vu8","crt--on":"crt-tv_crt--on__JQZwC",flicker:"crt-tv_flicker__Q4t9_","channel-overlay":"crt-tv_channel-overlay__IAhW2","overlay-anim":"crt-tv_overlay-anim__Et1gc",screen:"crt-tv_screen__rHEmB","turn-on":"crt-tv_turn-on__0M7pH","turn-off":"crt-tv_turn-off__JhsI8","volume-overlay":"crt-tv_volume-overlay__D_Zu_","volume-overlay--active":"crt-tv_volume-overlay--active__qYCs1","volume-bar":"crt-tv_volume-bar__TM5XC","volume-bar--active":"crt-tv_volume-bar--active__n5S0x"}},2550:function(e){e.exports={section:"Section_section__TwzwZ","section--grow":"Section_section--grow__nvWNJ"}},4839:function(e,t,r){"use strict";t.Z=function(){for(var e,t,r=0,n="",c=arguments.length;r<c;r++)(e=arguments[r])&&(t=function e(t){var r,n,c="";if("string"==typeof t||"number"==typeof t)c+=t;else if("object"==typeof t){if(Array.isArray(t)){var o=t.length;for(r=0;r<o;r++)t[r]&&(n=e(t[r]))&&(c&&(c+=" "),c+=n)}else for(n in t)t[n]&&(c&&(c+=" "),c+=n)}return c}(e))&&(n&&(n+=" "),n+=t);return n}}},function(e){e.O(0,[114,212,971,23,744],function(){return e(e.s=1987)}),_N_E=e.O()}]);