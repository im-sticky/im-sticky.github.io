(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[523],{7523:function(){/*! For license information please see main.bundle.js.LICENSE.txt */(()=>{var t={269:t=>{!function(){var e;function r(t,n){var i=this instanceof r?this:e;if(i.reset(n),"string"==typeof t&&t.length>0&&i.hash(t),i!==this)return i}r.prototype.hash=function(t){var e,r,n,i,o;switch(o=t.length,this.len+=o,r=this.k1,n=0,this.rem){case 0:r^=o>n?65535&t.charCodeAt(n++):0;case 1:r^=o>n?(65535&t.charCodeAt(n++))<<8:0;case 2:r^=o>n?(65535&t.charCodeAt(n++))<<16:0;case 3:r^=o>n?(255&t.charCodeAt(n))<<24:0,r^=o>n?(65280&t.charCodeAt(n++))>>8:0}if(this.rem=o+this.rem&3,(o-=this.rem)>0){for(e=this.h1;e=5*(e=(e^=r=13715*(r=(r=11601*r+3432906752*(65535&r)&4294967295)<<15|r>>>17)+461832192*(65535&r)&4294967295)<<13|e>>>19)+3864292196&4294967295,!(n>=o);)r=65535&t.charCodeAt(n++)^(65535&t.charCodeAt(n++))<<8^(65535&t.charCodeAt(n++))<<16^((255&(i=t.charCodeAt(n++)))<<24^(65280&i)>>8);switch(r=0,this.rem){case 3:r^=(65535&t.charCodeAt(n+2))<<16;case 2:r^=(65535&t.charCodeAt(n+1))<<8;case 1:r^=65535&t.charCodeAt(n)}this.h1=e}return this.k1=r,this},r.prototype.result=function(){var t,e;return t=this.k1,e=this.h1,t>0&&(e^=t=13715*(t=(t=11601*t+3432906752*(65535&t)&4294967295)<<15|t>>>17)+461832192*(65535&t)&4294967295),e^=this.len,e=51819*(e^=e>>>16)+2246770688*(65535&e)&4294967295,e=44597*(e^=e>>>13)+3266445312*(65535&e)&4294967295,(e^=e>>>16)>>>0},r.prototype.reset=function(t){return this.h1="number"==typeof t?t:0,this.rem=this.k1=this.len=0,this},e=new r,t.exports=r}()},203:t=>{self,t.exports=(()=>{"use strict";var t={259:(t,e,r)=>{let n=r(849).buildOptions,i={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(t){return t},attrValueProcessor:function(t){return t}},o=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor"];function a(t){this.options=n(t,i,o),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=h),this.options.cdataTagName?this.isCDATA=m:this.isCDATA=function(){return!1},this.replaceCDATAstr=s,this.replaceCDATAarr=l,this.options.format?(this.indentate=f,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=d,this.buildObjNode=u):(this.buildTextNode=p,this.buildObjNode=c),this.buildTextValNode=p,this.buildObjectNode=c}function s(t,e){return t=this.options.tagValueProcessor(""+t),""===this.options.cdataPositionChar||""===t?t+"<![CDATA["+e+"]]"+this.tagEndChar:t.replace(this.options.cdataPositionChar,"<![CDATA["+e+"]]"+this.tagEndChar)}function l(t,e){if(t=this.options.tagValueProcessor(""+t),""===this.options.cdataPositionChar||""===t)return t+"<![CDATA["+e.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(let r in e)t=t.replace(this.options.cdataPositionChar,"<![CDATA["+e[r]+"]]>");return t+this.newLine}function c(t,e,r,n){return r&&!t.includes("<")?this.indentate(n)+"<"+e+r+">"+t+"</"+e+this.tagEndChar:this.indentate(n)+"<"+e+r+this.tagEndChar+t+this.indentate(n)+"</"+e+this.tagEndChar}function u(t,e,r,n){return""!==t?this.buildObjectNode(t,e,r,n):this.indentate(n)+"<"+e+r+"/"+this.tagEndChar}function p(t,e,r,n){return this.indentate(n)+"<"+e+r+">"+this.options.tagValueProcessor(t)+"</"+e+this.tagEndChar}function d(t,e,r,n){return""!==t?this.buildTextValNode(t,e,r,n):this.indentate(n)+"<"+e+r+"/"+this.tagEndChar}function f(t){return this.options.indentBy.repeat(t)}function h(t){return!!t.startsWith(this.options.attributeNamePrefix)&&t.substr(this.attrPrefixLen)}function m(t){return t===this.options.cdataTagName}a.prototype.parse=function(t){return this.j2x(t,0).val},a.prototype.j2x=function(t,e){let r="",n="",i=Object.keys(t),o=i.length;for(let a=0;a<o;a++){let o=i[a];if(void 0===t[o]);else if(null===t[o])n+=this.indentate(e)+"<"+o+"/"+this.tagEndChar;else if(t[o]instanceof Date)n+=this.buildTextNode(t[o],o,"",e);else if("object"!=typeof t[o]){let i=this.isAttribute(o);i?r+=" "+i+'="'+this.options.attrValueProcessor(""+t[o])+'"':this.isCDATA(o)?t[this.options.textNodeName]?n+=this.replaceCDATAstr(t[this.options.textNodeName],t[o]):n+=this.replaceCDATAstr("",t[o]):o===this.options.textNodeName?t[this.options.cdataTagName]||(n+=this.options.tagValueProcessor(""+t[o])):n+=this.buildTextNode(t[o],o,"",e)}else if(Array.isArray(t[o])){if(this.isCDATA(o))n+=this.indentate(e),t[this.options.textNodeName]?n+=this.replaceCDATAarr(t[this.options.textNodeName],t[o]):n+=this.replaceCDATAarr("",t[o]);else{let r=t[o].length;for(let i=0;i<r;i++){let r=t[o][i];if(void 0===r);else if(null===r)n+=this.indentate(e)+"<"+o+"/"+this.tagEndChar;else if("object"==typeof r){let t=this.j2x(r,e+1);n+=this.buildObjNode(t.val,o,t.attrStr,e)}else n+=this.buildTextNode(r,o,"",e)}}}else if(this.options.attrNodeName&&o===this.options.attrNodeName){let e=Object.keys(t[o]),n=e.length;for(let i=0;i<n;i++)r+=" "+e[i]+'="'+this.options.attrValueProcessor(""+t[o][e[i]])+'"'}else{let r=this.j2x(t[o],e+1);n+=this.buildObjNode(r.val,o,r.attrStr,e)}}return{attrStr:r,val:n}},t.exports=a},398:(t,e,r)=>{let n=function(t){return String.fromCharCode(t)},i={nilChar:n(176),missingChar:n(201),nilPremitive:n(175),missingPremitive:n(200),emptyChar:n(178),emptyValue:n(177),boundryChar:n(179),objStart:n(198),arrStart:n(204),arrayEnd:n(185)},o=[i.nilChar,i.nilPremitive,i.missingChar,i.missingPremitive,i.boundryChar,i.emptyChar,i.emptyValue,i.arrayEnd,i.objStart,i.arrStart],a=function(t,e,r){var n;if("string"==typeof e)return t&&t[0]&&void 0!==t[0].val?s(t[0].val,e):s(t,e);{let o=void 0===(n=t)?i.missingChar:null===n?i.nilChar:!(n.child&&0===Object.keys(n.child).length&&(!n.attrsMap||0===Object.keys(n.attrsMap).length))||i.emptyChar;if(!0===o){let n="";if(Array.isArray(e)){n+=i.arrStart;let o=e[0],c=t.length;if("string"==typeof o)for(let e=0;e<c;e++)n=l(n,s(t[e].val,o));else for(let e=0;e<c;e++)n=l(n,a(t[e],o,r));n+=i.arrayEnd}else{n+=i.objStart;let o=Object.keys(e);for(let i in Array.isArray(t)&&(t=t[0]),o){let s=o[i];n=l(n,!r.ignoreAttributes&&t.attrsMap&&t.attrsMap[s]?a(t.attrsMap[s],e[s],r):s===r.textNodeName?a(t.val,e[s],r):a(t.child[s],e[s],r))}}return n}return o}},s=function(t){switch(t){case void 0:return i.missingPremitive;case null:return i.nilPremitive;case"":return i.emptyValue;default:return t}},l=function(t,e){return c(e[0])||c(t[t.length-1])||(t+=i.boundryChar),t+e},c=function(t){return -1!==o.indexOf(t)},u=r(543),p=r(849).buildOptions;e.convert2nimn=function(t,e,r){return a(t,e,r=p(r,u.defaultOptions,u.props))}},284:(t,e,r)=>{let n=r(849),i=function(t,e,r){let o={};if((!t.child||n.isEmptyObject(t.child))&&(!t.attrsMap||n.isEmptyObject(t.attrsMap)))return n.isExist(t.val)?t.val:"";if(n.isExist(t.val)&&("string"!=typeof t.val||""!==t.val&&t.val!==e.cdataPositionChar)){let i=n.isTagNameInArrayMode(t.tagname,e.arrayMode,r);o[e.textNodeName]=i?[t.val]:t.val}n.merge(o,t.attrsMap,e.arrayMode);let a=Object.keys(t.child);for(let s=0;s<a.length;s++){let l=a[s];if(t.child[l]&&t.child[l].length>1)for(let r in o[l]=[],t.child[l])t.child[l].hasOwnProperty(r)&&o[l].push(i(t.child[l][r],e,l));else{let a=i(t.child[l][0],e,l),s=!0===e.arrayMode&&"object"==typeof a||n.isTagNameInArrayMode(l,e.arrayMode,r);o[l]=s?[a]:a}}return o};e.convertToJson=i},702:(t,e,r)=>{let n=r(849),i=r(849).buildOptions,o=r(543),a=function(t,e,r){var i;let o="{",s=Object.keys(t.child);for(let r=0;r<s.length;r++){var l=s[r];if(t.child[l]&&t.child[l].length>1){for(var c in o+='"'+l+'" : [ ',t.child[l])o+=a(t.child[l][c],e)+" , ";o=o.substr(0,o.length-1)+" ] "}else o+='"'+l+'" : '+a(t.child[l][0],e)+" ,"}return n.merge(o,t.attrsMap),n.isEmptyObject(o)?n.isExist(t.val)?t.val:"":(n.isExist(t.val)&&("string"!=typeof t.val||""!==t.val&&t.val!==e.cdataPositionChar)&&(o+='"'+e.textNodeName+'" : '+(!0!==(i=t.val)&&!1!==i&&isNaN(i)?'"'+i+'"':i)),","===o[o.length-1]&&(o=o.substr(0,o.length-2)),o+"}")};e.convertToJsonString=function(t,e){return(e=i(e,o.defaultOptions,o.props)).indentBy=e.indentBy||"",a(t,e,0)}},965:(t,e,r)=>{let n=r(284),i=r(543),o=r(543),a=r(849).buildOptions,s=r(501);e.parse=function(t,e,r){if(r){!0===r&&(r={});let e=s.validate(t,r);if(!0!==e)throw Error(e.err.msg)}e=a(e,o.defaultOptions,o.props);let l=i.getTraversalObj(t,e);return n.convertToJson(l,e)},e.convertTonimn=r(398).convert2nimn,e.getTraversalObj=i.getTraversalObj,e.convertToJson=n.convertToJson,e.convertToJsonString=r(702).convertToJsonString,e.validate=s.validate,e.j2xParser=r(259),e.parseToNimn=function(t,r,n){return e.convertTonimn(e.getTraversalObj(t,n),r,n)}},849:(t,e)=>{let r="[:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",n=RegExp("^"+r+"$");e.isExist=function(t){return void 0!==t},e.isEmptyObject=function(t){return 0===Object.keys(t).length},e.merge=function(t,e,r){if(e){let n=Object.keys(e),i=n.length;for(let o=0;o<i;o++)t[n[o]]="strict"===r?[e[n[o]]]:e[n[o]]}},e.getValue=function(t){return e.isExist(t)?t:""},e.buildOptions=function(t,e,r){var n={};if(!t)return e;for(let i=0;i<r.length;i++)void 0!==t[r[i]]?n[r[i]]=t[r[i]]:n[r[i]]=e[r[i]];return n},e.isTagNameInArrayMode=function(t,e,r){return!1!==e&&(e instanceof RegExp?e.test(t):"function"==typeof e?!!e(t,r):"strict"===e)},e.isName=function(t){return null!=n.exec(t)},e.getAllMatches=function(t,e){let r=[],n=e.exec(t);for(;n;){let i=[],o=n.length;for(let t=0;t<o;t++)i.push(n[t]);r.push(i),n=e.exec(t)}return r},e.nameRegexp=r},501:(t,e,r)=>{let n=r(849),i={allowBooleanAttributes:!1},o=["allowBooleanAttributes"];function a(t,e){for(var r=e;e<t.length;e++)if("?"!=t[e]&&" "!=t[e]);else{var n=t.substr(r,e-r);if(e>5&&"xml"===n)return u("InvalidXml","XML declaration allowed only at the start of the document.",p(t,e));if("?"==t[e]&&">"==t[e+1]){e++;break}}return e}function s(t,e){if(t.length>e+5&&"-"===t[e+1]&&"-"===t[e+2]){for(e+=3;e<t.length;e++)if("-"===t[e]&&"-"===t[e+1]&&">"===t[e+2]){e+=2;break}}else if(t.length>e+8&&"D"===t[e+1]&&"O"===t[e+2]&&"C"===t[e+3]&&"T"===t[e+4]&&"Y"===t[e+5]&&"P"===t[e+6]&&"E"===t[e+7]){let r=1;for(e+=8;e<t.length;e++)if("<"===t[e])r++;else if(">"===t[e]&&0==--r)break}else if(t.length>e+9&&"["===t[e+1]&&"C"===t[e+2]&&"D"===t[e+3]&&"A"===t[e+4]&&"T"===t[e+5]&&"A"===t[e+6]&&"["===t[e+7]){for(e+=8;e<t.length;e++)if("]"===t[e]&&"]"===t[e+1]&&">"===t[e+2]){e+=2;break}}return e}e.validate=function(t,e){var r;e=n.buildOptions(e,i,o);let l=[],d=!1,f=!1;"\uFEFF"===t[0]&&(t=t.substr(1));for(let i=0;i<t.length;i++)if("<"===t[i]&&"?"===t[i+1]){if(i+=2,(i=a(t,i)).err)return i}else{if("<"!==t[i]){if(" "===t[i]||"	"===t[i]||"\n"===t[i]||"\r"===t[i])continue;return u("InvalidChar","char '"+t[i]+"' is not expected.",p(t,i))}if("!"===t[++i]){i=s(t,i);continue}{let o=!1;"/"===t[i]&&(o=!0,i++);let h="";for(;i<t.length&&">"!==t[i]&&" "!==t[i]&&"	"!==t[i]&&"\n"!==t[i]&&"\r"!==t[i];i++)h+=t[i];if("/"===(h=h.trim())[h.length-1]&&(h=h.substring(0,h.length-1),i--),r=h,!n.isName(r))return u("InvalidTag",0===h.trim().length?"There is an unnecessary space between tag name and backward slash '</ ..'.":"Tag '"+h+"' is an invalid name.",p(t,i));let m=function(t,e){let r="",n="",i=!1;for(;e<t.length;e++){if('"'===t[e]||"'"===t[e]){if(""===n)n=t[e];else{if(n!==t[e])continue;n=""}}else if(">"===t[e]&&""===n){i=!0;break}r+=t[e]}return""===n&&{value:r,index:e,tagClosed:i}}(t,i);if(!1===m)return u("InvalidAttr","Attributes for '"+h+"' have open quote.",p(t,i));let y=m.value;if(i=m.index,"/"===y[y.length-1]){let r=c(y=y.substring(0,y.length-1),e);if(!0!==r)return u(r.err.code,r.err.msg,p(t,i-y.length+r.err.line));d=!0}else if(o){if(!m.tagClosed)return u("InvalidTag","Closing tag '"+h+"' doesn't have proper closing.",p(t,i));if(y.trim().length>0)return u("InvalidTag","Closing tag '"+h+"' can't have attributes or invalid starting.",p(t,i));{let e=l.pop();if(h!==e)return u("InvalidTag","Closing tag '"+e+"' is expected inplace of '"+h+"'.",p(t,i));0==l.length&&(f=!0)}}else{let r=c(y,e);if(!0!==r)return u(r.err.code,r.err.msg,p(t,i-y.length+r.err.line));if(!0===f)return u("InvalidXml","Multiple possible root nodes found.",p(t,i));l.push(h),d=!0}for(i++;i<t.length;i++)if("<"===t[i]){if("!"===t[i+1]){i=s(t,++i);continue}if("?"!==t[i+1])break;if((i=a(t,++i)).err)return i}else if("&"===t[i]){let e=function(t,e){if(";"===t[++e])return -1;if("#"===t[e])return function(t,e){let r=/\d/;for("x"===t[e]&&(e++,r=/[\da-fA-F]/);e<t.length;e++){if(";"===t[e])return e;if(!t[e].match(r))break}return -1}(t,++e);let r=0;for(;e<t.length;e++,r++)if(!(t[e].match(/\w/)&&r<20)){if(";"===t[e])break;return -1}return e}(t,i);if(-1==e)return u("InvalidChar","char '&' is not expected.",p(t,i));i=e}"<"===t[i]&&i--}}return d?!(l.length>0)||u("InvalidXml","Invalid '"+JSON.stringify(l,null,4).replace(/\r?\n/g,"")+"' found.",1):u("InvalidXml","Start tag expected.",1)};let l=RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function c(t,e){let r=n.getAllMatches(t,l),i={};for(let o=0;o<r.length;o++){if(0===r[o][1].length)return u("InvalidAttr","Attribute '"+r[o][2]+"' has no space in starting.",d(t,r[o][0]));if(void 0===r[o][3]&&!e.allowBooleanAttributes)return u("InvalidAttr","boolean attribute '"+r[o][2]+"' is not allowed.",d(t,r[o][0]));let a=r[o][2];if(!n.isName(a))return u("InvalidAttr","Attribute '"+a+"' is an invalid name.",d(t,r[o][0]));if(i.hasOwnProperty(a))return u("InvalidAttr","Attribute '"+a+"' is repeated.",d(t,r[o][0]));i[a]=1}return!0}function u(t,e,r){return{err:{code:t,msg:e,line:r}}}function p(t,e){return t.substring(0,e).split(/\r?\n/).length}function d(t,e){return t.indexOf(e)+e.length}},468:t=>{t.exports=function(t,e,r){this.tagname=t,this.parent=e,this.child={},this.attrsMap={},this.val=r,this.addChild=function(t){Array.isArray(this.child[t.tagname])?this.child[t.tagname].push(t):this.child[t.tagname]=[t]}}},543:(t,e,r)=>{let n=r(849),i=r(849).buildOptions,o=r(468);"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,n.nameRegexp),!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);let a={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",tagValueProcessor:function(t,e){return t},attrValueProcessor:function(t,e){return t},stopNodes:[]};e.defaultOptions=a;let s=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","stopNodes"];function l(t,e,r){return e&&(r.trimValues&&(e=e.trim()),e=c(e=r.tagValueProcessor(e,t),r.parseNodeValue,r.parseTrueNumberOnly)),e}function c(t,e,r){if(e&&"string"==typeof t){let e;return""===t.trim()||isNaN(t)?e="true"===t||"false"!==t&&t:(-1!==t.indexOf("0x")?e=Number.parseInt(t,16):-1!==t.indexOf(".")?(e=Number.parseFloat(t),t=t.replace(/\.?0+$/,"")):e=Number.parseInt(t,10),r&&(e=String(e)===t?e:t)),e}return n.isExist(t)?t:""}e.props=s;let u=RegExp("([^\\s=]+)\\s*(=\\s*(['\"])(.*?)\\3)?","g");function p(t,e){if(!e.ignoreAttributes&&"string"==typeof t){t=t.replace(/\r?\n/g," ");let r=n.getAllMatches(t,u),i=r.length,o={};for(let t=0;t<i;t++){let n=function(t,e){if(e.ignoreNameSpace){let e=t.split(":"),r="/"===t.charAt(0)?"/":"";if("xmlns"===e[0])return"";2===e.length&&(t=r+e[1])}return t}(r[t][1],e);n.length&&(void 0!==r[t][4]?(e.trimValues&&(r[t][4]=r[t][4].trim()),r[t][4]=e.attrValueProcessor(r[t][4],n),o[e.attributeNamePrefix+n]=c(r[t][4],e.parseAttributeValue,e.parseTrueNumberOnly)):e.allowBooleanAttributes&&(o[e.attributeNamePrefix+n]=!0))}if(Object.keys(o).length){if(e.attrNodeName){let t={};return t[e.attrNodeName]=o,t}return o}}}function d(t,e,r,n){let i=t.indexOf(e,r);if(-1===i)throw Error(n);return i+e.length-1}e.getTraversalObj=function(t,e){t=t.replace(/\r\n?/g,"\n"),e=i(e,a,s);let r=new o("!xml"),c=r,u="";for(let r=0;r<t.length;r++)if("<"===t[r]){if("/"===t[r+1]){let i=d(t,">",r,"Closing Tag is not closed."),o=t.substring(r+2,i).trim();if(e.ignoreNameSpace){let t=o.indexOf(":");-1!==t&&(o=o.substr(t+1))}c&&(c.val?c.val=n.getValue(c.val)+""+l(o,u,e):c.val=l(o,u,e)),e.stopNodes.length&&e.stopNodes.includes(c.tagname)&&(c.child=[],null==c.attrsMap&&(c.attrsMap={}),c.val=t.substr(c.startIndex+1,r-c.startIndex-1)),c=c.parent,u="",r=i}else if("?"===t[r+1])r=d(t,"?>",r,"Pi Tag is not closed.");else if("!--"===t.substr(r+1,3))r=d(t,"-->",r,"Comment is not closed.");else if("!D"===t.substr(r+1,2)){let e=d(t,">",r,"DOCTYPE is not closed.");r=t.substring(r,e).indexOf("[")>=0?t.indexOf("]>",r)+1:e}else if("!["===t.substr(r+1,2)){let i=d(t,"]]>",r,"CDATA is not closed.")-2,a=t.substring(r+9,i);if(u&&(c.val=n.getValue(c.val)+""+l(c.tagname,u,e),u=""),e.cdataTagName){let t=new o(e.cdataTagName,c,a);c.addChild(t),c.val=n.getValue(c.val)+e.cdataPositionChar,a&&(t.val=a)}else c.val=(c.val||"")+(a||"");r=i+2}else{let i=function(t,e){let r,n="";for(let i=e;i<t.length;i++){let e=t[i];if(r)e===r&&(r="");else if('"'===e||"'"===e)r=e;else{if(">"===e)return{data:n,index:i};"	"===e&&(e=" ")}n+=e}}(t,r+1),a=i.data,s=i.index,d=a.indexOf(" "),f=a,h=!0;if(-1!==d&&(f=a.substr(0,d).replace(/\s\s*$/,""),a=a.substr(d+1)),e.ignoreNameSpace){let t=f.indexOf(":");-1!==t&&(h=(f=f.substr(t+1))!==i.data.substr(t+1))}if(c&&u&&"!xml"!==c.tagname&&(c.val=n.getValue(c.val)+""+l(c.tagname,u,e)),a.length>0&&a.lastIndexOf("/")===a.length-1){a="/"===f[f.length-1]?f=f.substr(0,f.length-1):a.substr(0,a.length-1);let t=new o(f,c,"");f!==a&&(t.attrsMap=p(a,e)),c.addChild(t)}else{let t=new o(f,c);e.stopNodes.length&&e.stopNodes.includes(t.tagname)&&(t.startIndex=s),f!==a&&h&&(t.attrsMap=p(a,e)),c.addChild(t),c=t}u="",r=s}}else u+=t[r];return r}}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};return(()=>{r.r(n),r.d(n,{Decklist:()=>y,MTGO:()=>_,autoParse:()=>S});var t=/^\d+/,e=/\d+$/,i=/(\(|\[)(.+)(\)|\])/,o=function(){var r;function n(t){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,n);var e="string"==typeof t?this.parseString(t):this.parseObject(t),r=e.amount,i=e.name,o=e.set,a=e.collectors,s=e.mtgoID;this.name=i,this.amount=r,this.set=o,this.collectors=a,this.mtgoID=s}return r=[{key:"parseString",value:function(r){r.trim();var n=r.replace(t,"").replace(i,"").replace(e,"").trim(),o=r.match(t),a=r.match(i),s=r.match(e);return{name:n,amount:o?parseInt(o):void 0,set:a?a[2]:void 0,collectors:s?parseInt(s):void 0}}},{key:"parseObject",value:function(t){return{name:t.Name,amount:parseInt(t.Quantity),mtgoID:t.CatID}}}],function(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(n.prototype,r),n}();function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s=function t(){(function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")})(this,t),a(this,"valid",!1),a(this,"deck",[]),a(this,"sideboard",[]),a(this,"companion",null),a(this,"commander",null)};function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=/^deck$/i,d=/^sideboard$/i,f=/^commander$/i,h=/^companion$/i,m=/\n/g,y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(n,t);var e,r=(e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=u(n);return t=e?Reflect.construct(r,arguments,u(this).constructor):r.apply(this,arguments),function(t,e){if(e&&("object"===l(e)||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function n(t){(function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")})(this,n),e=r.call(this);var e,i=t.trim().split(m),a=0;try{i.forEach(function(t){if((t=t.trim()).match(f))a=1;else if(t.match(h))a=2;else if(t.match(p))a=3;else{if(0===a&&t.length>0)a=3;else{if(t.match(d)||3===a&&0===t.length)return void(a=4);if(0===t.length)return}switch(a){case 1:e.commander=new o(t);break;case 2:e.companion=new o(t);break;case 3:e.deck.push(new o(t));break;case 4:e.sideboard.push(new o(t))}}}),e.valid=!0}catch(t){e.valid=!1,console.error(t)}return e}return n}(s),b=r(965);function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(n,t);var e,r=(e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=w(n);return t=e?Reflect.construct(r,arguments,w(this).constructor):r.apply(this,arguments),function(t,e){if(e&&("object"===g(e)||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function n(t){var e,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")})(this,n),e=r.call(this),t=t.trim();var a=b.validate(t);return e.valid=!0===a,e.valid?b.parse(t,{attributeNamePrefix:"",ignoreAttributes:!1}).Deck.Cards.forEach(function(t){"16777728"===t.Annotation?e.commander=new o(t):"true"===t.Sideboard?e.sideboard.push(new o(t)):e.deck.push(new o(t))}):i&&console.error(a.err),e}return n}(s);function S(t){var e=new _(t,!1);return e.valid?e:new y(t)}})(),n})()}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";let t="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,e=(t,e,r=null)=>{for(;e!==r;){let r=e.nextSibling;t.removeChild(e),e=r}},n=`{{lit-${String(Math.random()).slice(2)}}}`,i=`<!--${n}-->`,o=RegExp(`${n}|${i}`),a="$lit$";class s{constructor(t,e){this.parts=[],this.element=e;let r=[],i=[],s=document.createTreeWalker(e.content,133,null,!1),c=0,d=-1,f=0,{strings:h,values:{length:m}}=t;for(;f<m;){let t=s.nextNode();if(null!==t){if(d++,1===t.nodeType){if(t.hasAttributes()){let e=t.attributes,{length:r}=e,n=0;for(let t=0;t<r;t++)l(e[t].name,a)&&n++;for(;n-- >0;){let e=h[f],r=p.exec(e)[2],n=r.toLowerCase()+a,i=t.getAttribute(n);t.removeAttribute(n);let s=i.split(o);this.parts.push({type:"attribute",index:d,name:r,strings:s}),f+=s.length-1}}"TEMPLATE"===t.tagName&&(i.push(t),s.currentNode=t.content)}else if(3===t.nodeType){let e=t.data;if(e.indexOf(n)>=0){let n=t.parentNode,i=e.split(o),s=i.length-1;for(let e=0;e<s;e++){let r,o=i[e];if(""===o)r=u();else{let t=p.exec(o);null!==t&&l(t[2],a)&&(o=o.slice(0,t.index)+t[1]+t[2].slice(0,-a.length)+t[3]),r=document.createTextNode(o)}n.insertBefore(r,t),this.parts.push({type:"node",index:++d})}""===i[s]?(n.insertBefore(u(),t),r.push(t)):t.data=i[s],f+=s}}else if(8===t.nodeType){if(t.data===n){let e=t.parentNode;null!==t.previousSibling&&d!==c||(d++,e.insertBefore(u(),t)),c=d,this.parts.push({type:"node",index:d}),null===t.nextSibling?t.data="":(r.push(t),d--),f++}else{let e=-1;for(;-1!==(e=t.data.indexOf(n,e+1));)this.parts.push({type:"node",index:-1}),f++}}}else s.currentNode=i.pop()}for(let t of r)t.parentNode.removeChild(t)}}let l=(t,e)=>{let r=t.length-e.length;return r>=0&&t.slice(r)===e},c=t=>-1!==t.index,u=()=>document.createComment(""),p=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function d(t,e){let{element:{content:r},parts:n}=t,i=document.createTreeWalker(r,133,null,!1),o=h(n),a=n[o],s=-1,l=0,c=[],u=null;for(;i.nextNode();){s++;let t=i.currentNode;for(t.previousSibling===u&&(u=null),e.has(t)&&(c.push(t),null===u&&(u=t)),null!==u&&l++;void 0!==a&&a.index===s;)a.index=null!==u?-1:a.index-l,o=h(n,o),a=n[o]}c.forEach(t=>t.parentNode.removeChild(t))}let f=t=>{let e=11===t.nodeType?0:1,r=document.createTreeWalker(t,133,null,!1);for(;r.nextNode();)e++;return e},h=(t,e=-1)=>{for(let r=e+1;r<t.length;r++)if(c(t[r]))return r;return -1},m=new WeakMap,y=t=>"function"==typeof t&&m.has(t),b={},g={};class v{constructor(t,e,r){this.__parts=[],this.template=t,this.processor=e,this.options=r}update(t){let e=0;for(let r of this.__parts)void 0!==r&&r.setValue(t[e]),e++;for(let t of this.__parts)void 0!==t&&t.commit()}_clone(){let e=t?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),r=[],n=this.template.parts,i=document.createTreeWalker(e,133,null,!1),o,a=0,s=0,l=i.nextNode();for(;a<n.length;)if(c(o=n[a])){for(;s<o.index;)s++,"TEMPLATE"===l.nodeName&&(r.push(l),i.currentNode=l.content),null===(l=i.nextNode())&&(i.currentNode=r.pop(),l=i.nextNode());if("node"===o.type){let t=this.processor.handleTextExpression(this.options);t.insertAfterNode(l.previousSibling),this.__parts.push(t)}else this.__parts.push(...this.processor.handleAttributeExpressions(l,o.name,o.strings,this.options));a++}else this.__parts.push(void 0),a++;return t&&(document.adoptNode(e),customElements.upgrade(e)),e}}let w=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:t=>t}),_=` ${n} `;class S{constructor(t,e,r,n){this.strings=t,this.values=e,this.type=r,this.processor=n}getHTML(){let t=this.strings.length-1,e="",r=!1;for(let o=0;o<t;o++){let t=this.strings[o],s=t.lastIndexOf("<!--");r=(s>-1||r)&&-1===t.indexOf("-->",s+1);let l=p.exec(t);e+=null===l?t+(r?_:i):t.substr(0,l.index)+l[1]+l[2]+a+l[3]+n}return e+this.strings[t]}getTemplateElement(){let t=document.createElement("template"),e=this.getHTML();return void 0!==w&&(e=w.createHTML(e)),t.innerHTML=e,t}}let x=t=>null===t||!("object"==typeof t||"function"==typeof t),O=t=>Array.isArray(t)||!(!t||!t[Symbol.iterator]);class P{constructor(t,e,r){this.dirty=!0,this.element=t,this.name=e,this.strings=r,this.parts=[];for(let t=0;t<r.length-1;t++)this.parts[t]=this._createPart()}_createPart(){return new C(this)}_getValue(){let t=this.strings,e=t.length-1,r=this.parts;if(1===e&&""===t[0]&&""===t[1]){let t=r[0].value;if("symbol"==typeof t)return String(t);if("string"==typeof t||!O(t))return t}let n="";for(let i=0;i<e;i++){n+=t[i];let e=r[i];if(void 0!==e){let t=e.value;if(x(t)||!O(t))n+="string"==typeof t?t:String(t);else for(let e of t)n+="string"==typeof e?e:String(e)}}return n+t[e]}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class C{constructor(t){this.value=void 0,this.committer=t}setValue(t){t===b||x(t)&&t===this.value||(this.value=t,y(t)||(this.committer.dirty=!0))}commit(){for(;y(this.value);){let t=this.value;this.value=b,t(this)}this.value!==b&&this.committer.commit()}}class k{constructor(t){this.value=void 0,this.__pendingValue=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild(u()),this.endNode=t.appendChild(u())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t.__insert(this.startNode=u()),t.__insert(this.endNode=u())}insertAfterPart(t){t.__insert(this.startNode=u()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this.__pendingValue=t}commit(){if(null===this.startNode.parentNode)return;for(;y(this.__pendingValue);){let t=this.__pendingValue;this.__pendingValue=b,t(this)}let t=this.__pendingValue;t!==b&&(x(t)?t!==this.value&&this.__commitText(t):t instanceof S?this.__commitTemplateResult(t):t instanceof Node?this.__commitNode(t):O(t)?this.__commitIterable(t):t===g?(this.value=g,this.clear()):this.__commitText(t))}__insert(t){this.endNode.parentNode.insertBefore(t,this.endNode)}__commitNode(t){this.value!==t&&(this.clear(),this.__insert(t),this.value=t)}__commitText(t){let e=this.startNode.nextSibling,r="string"==typeof(t=null==t?"":t)?t:String(t);e===this.endNode.previousSibling&&3===e.nodeType?e.data=r:this.__commitNode(document.createTextNode(r)),this.value=t}__commitTemplateResult(t){let e=this.options.templateFactory(t);if(this.value instanceof v&&this.value.template===e)this.value.update(t.values);else{let r=new v(e,t.processor,this.options),n=r._clone();r.update(t.values),this.__commitNode(n),this.value=r}}__commitIterable(t){Array.isArray(this.value)||(this.value=[],this.clear());let e=this.value,r,n=0;for(let i of t)void 0===(r=e[n])&&(r=new k(this.options),e.push(r),0===n?r.appendIntoPart(this):r.insertAfterPart(e[n-1])),r.setValue(i),r.commit(),n++;n<e.length&&(e.length=n,this.clear(r&&r.endNode))}clear(t=this.startNode){e(this.startNode.parentNode,t.nextSibling,this.endNode)}}class E{constructor(t,e,r){if(this.value=void 0,this.__pendingValue=void 0,2!==r.length||""!==r[0]||""!==r[1])throw Error("Boolean attributes can only contain a single expression");this.element=t,this.name=e,this.strings=r}setValue(t){this.__pendingValue=t}commit(){for(;y(this.__pendingValue);){let t=this.__pendingValue;this.__pendingValue=b,t(this)}if(this.__pendingValue===b)return;let t=!!this.__pendingValue;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.__pendingValue=b}}class A extends P{constructor(t,e,r){super(t,e,r),this.single=2===r.length&&""===r[0]&&""===r[1]}_createPart(){return new j(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class j extends C{}let N=!1;(()=>{try{let t={get capture(){return N=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}})();class T{constructor(t,e,r){this.value=void 0,this.__pendingValue=void 0,this.element=t,this.eventName=e,this.eventContext=r,this.__boundHandleEvent=t=>this.handleEvent(t)}setValue(t){this.__pendingValue=t}commit(){for(;y(this.__pendingValue);){let t=this.__pendingValue;this.__pendingValue=b,t(this)}if(this.__pendingValue===b)return;let t=this.__pendingValue,e=this.value,r=null==t||null!=e&&(t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive),n=null!=t&&(null==e||r);r&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),n&&(this.__options=R(t),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=t,this.__pendingValue=b}handleEvent(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}let R=t=>t&&(N?{capture:t.capture,passive:t.passive,once:t.once}:t.capture);function I(t){let e=D.get(t.type);void 0===e&&(e={stringsArray:new WeakMap,keyString:new Map},D.set(t.type,e));let r=e.stringsArray.get(t.strings);if(void 0!==r)return r;let i=t.strings.join(n);return void 0===(r=e.keyString.get(i))&&(r=new s(t,t.getTemplateElement()),e.keyString.set(i,r)),e.stringsArray.set(t.strings,r),r}let D=new Map,F=new WeakMap,M=new class{handleAttributeExpressions(t,e,r,n){let i=e[0];return"."===i?new A(t,e.slice(1),r).parts:"@"===i?[new T(t,e.slice(1),n.eventContext)]:"?"===i?[new E(t,e.slice(1),r)]:new P(t,e,r).parts}handleTextExpression(t){return new k(t)}};"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.4.1");let V=(t,...e)=>new S(t,e,"html",M),B=(t,e)=>`${t}--${e}`,U=!0;void 0===window.ShadyCSS?U=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),U=!1);let z=t=>e=>{let r=B(e.type,t),i=D.get(r);void 0===i&&(i={stringsArray:new WeakMap,keyString:new Map},D.set(r,i));let o=i.stringsArray.get(e.strings);if(void 0!==o)return o;let a=e.strings.join(n);if(void 0===(o=i.keyString.get(a))){let r=e.getTemplateElement();U&&window.ShadyCSS.prepareTemplateDom(r,t),o=new s(e,r),i.keyString.set(a,o)}return i.stringsArray.set(e.strings,o),o},L=["html","svg"],X=new Set;window.JSCompiler_renameProperty=(t,e)=>t;let $={toAttribute(t,e){switch(e){case Boolean:return t?"":null;case Object:case Array:return null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){switch(e){case Boolean:return null!==t;case Number:return null===t?null:Number(t);case Object:case Array:return JSON.parse(t)}return t}},q=(t,e)=>e!==t&&(e==e||t==t),Y={attribute:!0,type:String,converter:$,reflect:!1,hasChanged:q};class H extends HTMLElement{constructor(){super(),this.initialize()}static get observedAttributes(){this.finalize();let t=[];return this._classProperties.forEach((e,r)=>{let n=this._attributeNameForProperty(r,e);void 0!==n&&(this._attributeToPropertyMap.set(n,r),t.push(n))}),t}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;let t=Object.getPrototypeOf(this)._classProperties;void 0!==t&&t.forEach((t,e)=>this._classProperties.set(e,t))}}static createProperty(t,e=Y){if(this._ensureClassProperties(),this._classProperties.set(t,e),e.noAccessor||this.prototype.hasOwnProperty(t))return;let r="symbol"==typeof t?Symbol():`__${t}`,n=this.getPropertyDescriptor(t,r,e);void 0!==n&&Object.defineProperty(this.prototype,t,n)}static getPropertyDescriptor(t,e,r){return{get(){return this[e]},set(n){let i=this[t];this[e]=n,this.requestUpdateInternal(t,i,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this._classProperties&&this._classProperties.get(t)||Y}static finalize(){let t=Object.getPrototypeOf(this);if(t.hasOwnProperty("finalized")||t.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){let t=this.properties;for(let e of[...Object.getOwnPropertyNames(t),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[]])this.createProperty(e,t[e])}}static _attributeNameForProperty(t,e){let r=e.attribute;return!1===r?void 0:"string"==typeof r?r:"string"==typeof t?t.toLowerCase():void 0}static _valueHasChanged(t,e,r=q){return r(t,e)}static _propertyValueFromAttribute(t,e){let r=e.type,n=e.converter||$,i="function"==typeof n?n:n.fromAttribute;return i?i(t,r):t}static _propertyValueToAttribute(t,e){if(void 0===e.reflect)return;let r=e.type,n=e.converter;return(n&&n.toAttribute||$.toAttribute)(t,r)}initialize(){this._updateState=0,this._updatePromise=new Promise(t=>this._enableUpdatingResolver=t),this._changedProperties=new Map,this._saveInstanceProperties(),this.requestUpdateInternal()}_saveInstanceProperties(){this.constructor._classProperties.forEach((t,e)=>{if(this.hasOwnProperty(e)){let t=this[e];delete this[e],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(e,t)}})}_applyInstanceProperties(){this._instanceProperties.forEach((t,e)=>this[e]=t),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){void 0!==this._enableUpdatingResolver&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(t,e,r){e!==r&&this._attributeToProperty(t,r)}_propertyToAttribute(t,e,r=Y){let n=this.constructor,i=n._attributeNameForProperty(t,r);if(void 0!==i){let t=n._propertyValueToAttribute(e,r);if(void 0===t)return;this._updateState=8|this._updateState,null==t?this.removeAttribute(i):this.setAttribute(i,t),this._updateState=-9&this._updateState}}_attributeToProperty(t,e){if(8&this._updateState)return;let r=this.constructor,n=r._attributeToPropertyMap.get(t);if(void 0!==n){let t=r.getPropertyOptions(n);this._updateState=16|this._updateState,this[n]=r._propertyValueFromAttribute(e,t),this._updateState=-17&this._updateState}}requestUpdateInternal(t,e,r){let n=!0;if(void 0!==t){let i=this.constructor;r=r||i.getPropertyOptions(t),i._valueHasChanged(this[t],e,r.hasChanged)?(this._changedProperties.has(t)||this._changedProperties.set(t,e),!0!==r.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(t,r))):n=!1}!this._hasRequestedUpdate&&n&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(t,e){return this.requestUpdateInternal(t,e),this.updateComplete}async _enqueueUpdate(){this._updateState=4|this._updateState;try{await this._updatePromise}catch(t){}let t=this.performUpdate();return null!=t&&await t,!this._hasRequestedUpdate}get _hasRequestedUpdate(){return 4&this._updateState}get hasUpdated(){return 1&this._updateState}performUpdate(){if(!this._hasRequestedUpdate)return;this._instanceProperties&&this._applyInstanceProperties();let t=!1,e=this._changedProperties;try{(t=this.shouldUpdate(e))?this.update(e):this._markUpdated()}catch(e){throw t=!1,this._markUpdated(),e}t&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(e)),this.updated(e))}_markUpdated(){this._changedProperties=new Map,this._updateState=-5&this._updateState}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._updatePromise}shouldUpdate(t){return!0}update(t){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((t,e)=>this._propertyToAttribute(e,this[e],t)),this._reflectingProperties=void 0),this._markUpdated()}updated(t){}firstUpdated(t){}}H.finalized=!0;let W=Element.prototype;W.msMatchesSelector||W.webkitMatchesSelector;let J=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,K=Symbol();class G{constructor(t,e){if(e!==K)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}get styleSheet(){return void 0===this._styleSheet&&(J?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}let Z=(t,...e)=>{let r=e.reduce((e,r,n)=>e+(t=>{if(t instanceof G)return t.cssText;if("number"==typeof t)return t;throw Error(`Value passed to 'css' function must be a 'css' function result: ${t}. Use 'unsafeCSS' to pass non-literal values, but
            take care to ensure page security.`)})(r)+t[n+1],t[0]);return new G(r,K)};(window.litElementVersions||(window.litElementVersions=[])).push("2.5.1");let Q={};class tt extends H{static getStyles(){return this.styles}static _getUniqueStyles(){if(this.hasOwnProperty(JSCompiler_renameProperty("_styles",this)))return;let t=this.getStyles();if(Array.isArray(t)){let e=(t,r)=>t.reduceRight((t,r)=>Array.isArray(r)?e(r,t):(t.add(r),t),r),r=e(t,new Set),n=[];r.forEach(t=>n.unshift(t)),this._styles=n}else this._styles=void 0===t?[]:[t];this._styles=this._styles.map(t=>t instanceof CSSStyleSheet&&!J?new G(String(Array.prototype.slice.call(t.cssRules).reduce((t,e)=>t+e.cssText,"")),K):t)}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow(this.constructor.shadowRootOptions)}adoptStyles(){let t=this.constructor._styles;0!==t.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?J?this.renderRoot.adoptedStyleSheets=t.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(t.map(t=>t.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(t){let e=this.render();super.update(t),e!==Q&&this.constructor.render(e,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(t=>{let e=document.createElement("style");e.textContent=t.cssText,this.renderRoot.appendChild(e)}))}render(){return Q}}function te(t){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tr(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function tn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ti(t,e){return(ti=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function to(t){return(to=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}tt.finalized=!0,tt.render=(t,r,n)=>{var i;let o;if(!n||"object"!=typeof n||!n.scopeName)throw Error("The `scopeName` option is required.");let a=n.scopeName,s=F.has(r),l=U&&11===r.nodeType&&!!r.host,c=l&&!X.has(a),u=c?document.createDocumentFragment():r;if(i=Object.assign({templateFactory:z(a)},n),void 0===(o=F.get(u))&&(e(u,u.firstChild),F.set(u,o=new k(Object.assign({templateFactory:I},i))),o.appendInto(u)),o.setValue(t),o.commit(),c){let t=F.get(u);F.delete(u),((t,e,r)=>{X.add(t);let n=r?r.element:document.createElement("template"),i=e.querySelectorAll("style"),{length:o}=i;if(0===o)return void window.ShadyCSS.prepareTemplateStyles(n,t);let a=document.createElement("style");for(let t=0;t<o;t++){let e=i[t];e.parentNode.removeChild(e),a.textContent+=e.textContent}L.forEach(e=>{let r=D.get(B(e,t));void 0!==r&&r.keyString.forEach(t=>{let{element:{content:e}}=t,r=new Set;Array.from(e.querySelectorAll("style")).forEach(t=>{r.add(t)}),d(t,r)})});let s=n.content;r?function(t,e,r=null){let{element:{content:n},parts:i}=t;if(null==r)return void n.appendChild(e);let o=document.createTreeWalker(n,133,null,!1),a=h(i),s=0,l=-1;for(;o.nextNode();)for(l++,o.currentNode===r&&(s=f(e),r.parentNode.insertBefore(e,r));-1!==a&&i[a].index===l;){if(s>0){for(;-1!==a;)i[a].index+=s,a=h(i,a);return}a=h(i,a)}}(r,a,s.firstChild):s.insertBefore(a,s.firstChild),window.ShadyCSS.prepareTemplateStyles(n,t);let l=s.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==l)e.insertBefore(l.cloneNode(!0),e.firstChild);else if(r){s.insertBefore(a,s.firstChild);let t=new Set;t.add(a),d(r,t)}})(a,u,t.value instanceof v?t.value.template:void 0),e(r,r.firstChild),r.appendChild(u),F.set(r,t)}!s&&l&&window.ShadyCSS.styleElement(r.host)},tt.shadowRootOptions={mode:"open"};var ta=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ti(t,e)}(o,t);var e,r,n,i=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,e=to(o);return t=n?Reflect.construct(e,arguments,to(this).constructor):e.apply(this,arguments),t&&("object"===te(t)||"function"==typeof t)?t:function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this)});function o(){return function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return r=[{key:"styles",get:function(){return Z(tp||(tp=tr(["[part=loader]{display:inline-flex;align-items:center;position:relative;width:80px;height:80px}[part=loader-item]{position:absolute;width:13px;height:13px;border-radius:50%;background:#551a8b;animation-timing-function:cubic-bezier(0,1,1,0)}[part=loader-item]:nth-child(1){left:8px;animation:lds-ellipsis1 .6s infinite}[part=loader-item]:nth-child(2){left:8px;animation:lds-ellipsis2 .6s infinite}[part=loader-item]:nth-child(3){left:32px;animation:lds-ellipsis2 .6s infinite}[part=loader-item]:nth-child(4){left:56px;animation:lds-ellipsis3 .6s infinite}@keyframes lds-ellipsis1{0%{transform:scale(0)}100%{transform:scale(1)}}@keyframes lds-ellipsis3{0%{transform:scale(1)}100%{transform:scale(0)}}@keyframes lds-ellipsis2{0%{transform:translate(0,0)}100%{transform:translate(24px,0)}}"])))}}],e=[{key:"render",value:function(){return V(tu||(tu=tr([' <div part="loader"> <div part="loader-item"></div> <div part="loader-item"></div> <div part="loader-item"></div> <div part="loader-item"></div> </div> '])))}}],tn(o.prototype,e),r&&tn(o,r),o}(tt);class ts{constructor(t){for(let e of(this.classes=new Set,this.changed=!1,this.element=t,(t.getAttribute("class")||"").split(/\s+/)))this.classes.add(e)}add(t){this.classes.add(t),this.changed=!0}remove(t){this.classes.delete(t),this.changed=!0}commit(){if(this.changed){let t="";this.classes.forEach(e=>t+=e+" "),this.element.setAttribute("class",t)}}}let tl=new WeakMap,tc=(td=t=>e=>{if(!(e instanceof C)||e instanceof j||"class"!==e.committer.name||e.committer.parts.length>1)throw Error("The `classMap` directive must be used in the `class` attribute and must be the only part in the attribute.");let{committer:r}=e,{element:n}=r,i=tl.get(e);void 0===i&&(n.setAttribute("class",r.strings.join(" ")),tl.set(e,i=new Set));let o=n.classList||new ts(n);for(let e in i.forEach(e=>{e in t||(o.remove(e),i.delete(e))}),t){let r=t[e];r!=i.has(e)&&(r?(o.add(e),i.add(e)):(o.remove(e),i.delete(e)))}"function"==typeof o.commit&&o.commit()},(...t)=>{let e=td(...t);return m.set(e,!0),e});var tu,tp,td,tf=["transform","modal_dfc","meld","double_faced_token","art_series","double_sided"],th="Instant",tm="Sorcery",ty="Artifact",tb="Creature",tg="Enchantment",tv="Land",tw="Planeswalker",t_=[tb,tw,tm,th,ty,tg,tv],tS=[tw,tb,tv,tm,th,ty,tg],tx=["DAR"],tO="arena",tP="mtgo";function tC(t){return(tC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tk(t,e){return(tk=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tE(t){return(tE=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tA(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t,e){return{type:t,value:e}};return[t,e.bind(null,t)]}var tj=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tk(t,e)}(i,t);var e,r,n=(r=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,e=tE(i);return t=r?Reflect.construct(e,arguments,tE(this).constructor):e.apply(this,arguments),t&&("object"===tC(t)||"function"==typeof t)?t:function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this)});function i(){var t;return function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,i),(t=n.call(this)).dispatch=function(e,r){t.state=t.reducer(t.state,e),t.requestUpdate().then(function(t){t&&r&&"function"==typeof r&&r()})},t}return e=[{key:"apiRoot",get:function(){return"https://api.scryfall.com/"}},{key:"isMobile",get:function(){return window.innerWidth<768}},{key:"createReducer",value:function(t,e){this.state=t,this.reducer=function(r,n){return r=r||t,Object.prototype.hasOwnProperty.call(e,n.type)?e[n.type](r,n):r}}},{key:"emitEvent",value:function(t,e){this.dispatchEvent(new Event(t,Object.assign({bubbles:!0,composed:!0},e)))}},{key:"render",value:function(){throw Error("NotImplementedError")}}],function(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(i.prototype,e),i}(tt),tN=r(269),tT=r.n(tN),tR=new Map,tI=function(){function t(){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,t)}return function(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(t,[{key:"set",value:function(t,e){tR.set(t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=tR.get(t);return e?Object.assign(Object.create(Object.getPrototypeOf(r)),r):r}},{key:"has",value:function(t){return tR.has(t)}},{key:"createKey",value:function(t){var e,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return tT()(t.toLowerCase()).hash(null!==(e=null==n?void 0:n.toLowerCase())&&void 0!==e?e:"").hash(null!==(r=null==i?void 0:i.toString())&&void 0!==r?r:"").result()}}]),t}(),tD=function(){var t;function e(t){var r=t.fuzzy,n=t.set,i=t.collector;(function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")})(this,e),this.fuzzy=r,this.set=n,this.collector=i}return t=[{key:"cacheKey",get:function(){return tI.createKey(this.fuzzy,this.set,this.collector)}}],function(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(e.prototype,t),e}();function tF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function tM(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?tF(Object(r),!0).forEach(function(e){var n;n=r[e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tF(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function tV(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}function tB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function tU(t,e,r){return e&&tB(t.prototype,e),r&&tB(t,r),t}var tz=function(){function t(e){var r=e.name,n=e.faces,i=e.url,o=e.usd,a=e.tix,s=e.eur,l=e.amount;tV(this,t),this.name=r,this.faces=void 0===n?[]:n,this.url=i,this.amount=void 0===l?1:l,this.usd=new tL(tM({},o)),this.tix=new tL(tM({},a)),this.eur=new tL(tM({},s))}return tU(t,[{key:"prices",get:function(){return[this.usd,this.eur,this.tix]}},{key:"type",get:function(){return this.faces[0].type}},{key:"frontFace",get:function(){return this.faces[0].image}}],[{key:"fromApi",value:function(t){var e,r,n,i,o,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new this({name:t.name,url:t.scryfall_uri,amount:s,faces:tf.includes(t.layout)?t.card_faces.map(function(t){return tX.fromApi(t)}):[tX.fromApi(t)],usd:{price:null===(e=t.prices)||void 0===e?void 0:e.usd,url:null===(r=t.purchase_uris)||void 0===r?void 0:r.tcgplayer,symbol:"$"},eur:{price:null===(n=t.prices)||void 0===n?void 0:n.eur,url:null===(i=t.purchase_uris)||void 0===i?void 0:i.cardmarket,symbol:"€"},tix:{price:null===(o=t.prices)||void 0===o?void 0:o.tix,url:null===(a=t.purchase_uris)||void 0===a?void 0:a.cardhoarder,symbol:"TIX "}})}}]),t}(),tL=function t(e){var r=e.price,n=e.url,i=e.symbol;tV(this,t),this.price=r,this.url=n,this.symbol=i},tX=function(){function t(e){var r=e.name,n=e.image,i=e.type;tV(this,t),this.name=r,this.image=n,this.type=i}return tU(t,null,[{key:"fromApi",value:function(t){return new this({name:t.name,image:t.image_uris.normal,type:t.type_line})}}]),t}();function t$(t){return(t$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function tY(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?tq(Object(r),!0).forEach(function(e){tH(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tq(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function tH(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function tJ(t,e){return(tJ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tK(t){return(tK=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tG(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return tZ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tZ(t,e):void 0}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tZ(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var tQ,t0,t1,t2,t5,t3=tG(tA("SET_CARD_INFO"),2),t8=t3[0],t4=t3[1],t6=tG(tA("SET_FETCHED"),2),t9=t6[0],t7=t6[1],et=tG(tA("UPDATE_SEARCH"),2),ee=et[0],er=et[1],en=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tJ(t,e)}(o,t);var e,r,n,i=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,e=tK(o);return t=n?Reflect.construct(e,arguments,tK(this).constructor):e.apply(this,arguments),t&&("object"===t$(t)||"function"==typeof t)?t:function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this)});function o(t,e){!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,o);var r,n,a=(n=i.call(this)).getAttribute("name")||n.textContent,s=Object.assign({fetched:!1,cardInfo:new tz({url:'https://scryfall.com/search?q="'.concat(encodeURIComponent(a),'"')}),search:new tD({fuzzy:a,set:n.getAttribute("set"),collector:n.getAttribute("collector")})},t),l=Object.assign((tH(r={},t8,function(t,e){return tY(tY({},t),{},{cardInfo:new tz(tY({},e.value))})}),tH(r,t9,function(t){return tY(tY({},t),{},{fetched:!0})}),tH(r,ee,function(t,e){return tY(tY({},t),{},{search:new tD(tY({},e.value)),fetched:!1})}),r),e);return n.createReducer(s,l),n}return r=[{key:"properties",get:function(){return{name:{type:String},set:{type:String},collector:{type:Number},face:{type:Number},priceInfo:{type:Boolean,attribute:"price-info"}}}}],e=[{key:"name",set:function(t){t!==this.state.search.fuzzy&&this.dispatch(er(tY(tY({},this.state.search),{},{fuzzy:t})))}},{key:"set",set:function(t){t!==this.state.search.set&&this.dispatch(er(tY(tY({},this.state.search),{},{set:t})))}},{key:"collector",set:function(t){t!==this.state.search.collector&&this.dispatch(er(tY(tY({},this.state.search),{},{collector:t})))}},{key:"displayFaces",get:function(){return this.face?this.state.cardInfo.faces.slice(this.face-1,this.face):this.state.cardInfo.faces}},{key:"fetchCard",value:function(){var t=this;if(!this.state.fetched){if(tI.has(this.state.search.cacheKey)){var e=tI.get(this.state.search.cacheKey);this.dispatch(t4(e))}else{var r="cards/";if(this.state.search.set&&this.state.search.collector)r+="".concat(this.state.search.set,"/").concat(this.state.search.collector);else{var n=new URLSearchParams;Object.keys(this.state.search).forEach(function(e){t.state.search[e]&&n.set(e,t.state.search[e])}),r+="named?".concat(n.toString())}fetch("".concat(this.apiRoot).concat(r)).then(function(t){return t.json()}).then(function(e){if(404===e.status)return console.error(e.details),void t.emitEvent("fetchError");var r=tz.fromApi(e);tI.set(t.state.search.cacheKey,r),t.dispatch(t4(r)),t.emitEvent("fetchCard")})}this.dispatch(t7())}}},{key:"render",value:function(){throw Error("NotImplementedError")}}],tW(o.prototype,e),r&&tW(o,r),o}(tj);function ei(t){return"touch"===t.pointerType||t.sourceCapabilities&&t.sourceCapabilities.firesTouchEvents}function eo(t){return(eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ea(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function es(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function el(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?es(Object(r),!0).forEach(function(e){ec(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):es(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function ec(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ep(t,e){return(ep=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ed(t){return(ed=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ef(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return eh(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?eh(t,e):void 0}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eh(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var em,ey,eb,eg,ev,ew,e_,eS,ex=ef(tA("UPDATE_DISPLAY"),2),eO=ex[0],eP=ex[1],eC=ef(tA("HIDE_CARD"),2),ek=eC[0],eE=eC[1],eA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ep(t,e)}(o,t);var e,r,n,i=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,e=ed(o);return t=n?Reflect.construct(e,arguments,ed(this).constructor):e.apply(this,arguments),t&&("object"===eo(t)||"function"==typeof t)?t:function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this)});function o(){var t;return function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,o),i.call(this,{display:!1,cardX:0,cardY:0,bottom:!0,right:!0},(ec(t={},eO,function(t,e){return el(el({},t),{},{display:e.value.display,cardX:e.value.cardX,cardY:e.value.cardY,bottom:e.value.bottom,right:e.value.right})}),ec(t,ek,function(t){return el(el({},t),{},{display:!1})}),t))}return r=[{key:"styles",get:function(){return Z(t5||(t5=ea(["@keyframes fadein{from{opacity:0}to{opacity:1}}[part=link]{position:relative}.card-link__container{z-index:99;position:fixed;width:","px;height:","px;display:none}.card-link__container--open{display:flex;flex-wrap:wrap;animation:fadein 83ms ease-out}.card-link__container--bottom{transform:translateY(-1px)}.card-link__container--top{transform:translateY(-100%)}.card-link__container--left{transform:translateX(-100%)}.card-link__container--top.card-link__container--left{transform:translate3d(-100%,-100%,0)}.card-link__container--bottom.card-link__container--left{transform:translate3d(-100%,-1px,0)}.card-link__container--wide{width:","px}[part=image]{display:block;max-width:100%;height:100%;border-radius:","px}.card-link__container--wide [part=image]{width:50%}[part=price-list]{margin:0;padding:0;list-style:none;display:flex;width:100%;background:#fff}[part=price-item]{width:100%;text-align:center}[part=price-item]:first-child{text-align:right}[part=price-item]:last-child{text-align:left}[part=price-link]{display:block;padding:6px 8px;font-size:80%;text-decoration:none}[part=price-link]:hover{text-decoration:underline}@media screen and (max-width:","px){.card-link__container{width:","px;height:","px}.card-link__container--wide{width:","px}[part=image]{border-radius:","px}}"])),222,310,444,9,767,177.60000000000002,248,355.20000000000005,7)}}],e=[{key:"displayCard",value:function(t,e){var r=this,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.dispatch(eP({display:!0,cardX:t,cardY:e,bottom:n,right:i}),function(){return r.emitEvent("displayCard")})}},{key:"hideCard",value:function(){var t=this;this.dispatch(eE(),function(){return t.emitEvent("hideCard")})}},{key:"getCardPositions",value:function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=window.getComputedStyle(this.shadowRoot.querySelector(".card-link__container")).getPropertyValue("height"),i=t.clientX>window.innerWidth/2,o=t.clientY+parseInt(n)+this.offsetHeight>window.innerHeight,a=t.clientX+(i?8:-8);return Array.prototype.slice.call(this.getClientRects()).some(function(n){if(t.clientY>=Math.round(n.top)&&t.clientY<=Math.round(n.bottom)&&t.clientX>=Math.round(n.left)&&t.clientX<=Math.round(n.right)){if(e=n.top+(o?0:n.height),r&&"function"==typeof r){var s=r(n,{clientX:a,clientY:e,overflowBottom:o,overflowRight:i});a=s.clientX,e=s.clientY}return!0}}),{clientX:a,clientY:e,overflowBottom:o,overflowRight:i}}},{key:"displayCardEvent",value:function(t){if(ei(t))t.preventDefault();else{var e=this.getCardPositions(t);this.fetchCard(),this.displayCard(e.clientX,e.clientY,!e.overflowBottom,!e.overflowRight)}}},{key:"hideCardEvent",value:function(){this.hideCard()}},{key:"handleMobileTouch",value:function(t){if(ei(t)){if(this.emitEvent("touchCard"),this.state.display)this.hideCard();else{t.preventDefault();var e=this.getCardPositions(t,function(t,e){var r=e.clientY;return{clientX:e.overflowRight?t.right:t.left,clientY:r}});this.fetchCard(),this.displayCard(e.clientX,e.clientY,!e.overflowBottom,!e.overflowRight)}}}},{key:"onTabFocusIn",value:function(t){if(!ei(t)&&"Tab"===t.code){var e=this.getBoundingClientRect(),r=e.left+222>=window.innerWidth,n=e.bottom+310>=window.innerHeight,i=r?e.right:e.left,o=n?e.top:e.bottom;this.fetchCard(),this.displayCard(i,o,!n,!r)}}},{key:"render",value:function(){var t=tc({"card-link__container":!0,"card-link__container--open":this.state.display&&!!this.displayFaces.length,"card-link__container--bottom":this.state.bottom,"card-link__container--top":!this.state.bottom,"card-link__container--left":!this.state.right,"card-link__container--wide":this.displayFaces.length>1});return V(tQ||(tQ=ea([' <a href="','" target="_blank" rel="nofollow noreferrer noopener" part="link" @mouseenter="','" @mouseleave="','" @click="','" @keyup="','" @focusout="','"> <slot></slot> <div class="','" part="container" style="left:',"px;top:",'px"> '," "," </div> </a> "])),this.state.cardInfo.url,this.displayCardEvent,this.hideCardEvent,this.handleMobileTouch,this.onTabFocusIn,this.hideCardEvent,t,this.state.cardX,this.state.cardY,this.displayFaces.map(function(t){return V(t0||(t0=ea(['<img part="image" src="','" alt="','">'])),t.image,t.name)}),this.priceInfo?V(t1||(t1=ea([' <ul part="price-list"> '," </ul>"])),this.state.cardInfo.prices.map(function(t){return t.price?V(t2||(t2=ea([' <li part="price-item"> <a part="price-link" href="','" target="_blank" rel="nofollow noreferrer noopener"> ',""," </a> </li>"])),t.url,t.symbol,t.price):null})):null)}}],eu(o.prototype,e),r&&eu(o,r),o}(en);function ej(t){return(ej="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eN(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function eT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function eR(t,e){return(eR=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function eI(t){return(eI=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var eD=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&eR(t,e)}(o,t);var e,r,n,i=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,e=eI(o);return t=n?Reflect.construct(e,arguments,eI(this).constructor):e.apply(this,arguments),t&&("object"===ej(t)||"function"==typeof t)?t:function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this)});function o(){var t;return function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this)).static=!1,t.fetchCard(),t}return r=[{key:"properties",get:function(){return{static:{type:Boolean}}}},{key:"styles",get:function(){return Z(eS||(eS=eN(["@keyframes fadein{from{opacity:0}to{opacity:1}}[part=container]{display:inline-flex;flex-wrap:wrap;width:","px;height:","px;max-width:100%}[part=container].wide{width:","px}[part=image]{display:block;max-width:100%;height:100%;border-radius:","px;animation:fadein 83ms ease-out}[part=container].wide [part=image]{width:50%}[part=price-list]{margin:0;padding:0;list-style:none;display:flex;width:100%;background:#fff}[part=price-item]{width:100%;text-align:center}[part=price-item]:first-child{text-align:right}[part=price-item]:last-child{text-align:left}[part=price-link]{display:block;padding:6px 8px;font-size:80%;text-decoration:none}[part=price-link]:hover{text-decoration:underline}"])),222,310,444,9)}}],e=[{key:"render",value:function(){var t=V(em||(em=eN([" "," "," "])),this.displayFaces.map(function(t){return V(ey||(ey=eN(['<img part="image" src="','" alt="','">'])),t.image,t.name)}),this.priceInfo?V(eb||(eb=eN([' <ul part="price-list"> '," </ul>"])),this.state.cardInfo.prices.map(function(t){return t.price?V(eg||(eg=eN([' <li part="price-item"> <a part="price-link" href="','" target="_blank" rel="nofollow noreferrer noopener"> ',""," </a> </li>"])),t.url,t.symbol,t.price):null})):null);return V(ev||(ev=eN([" "," "])),this.static?V(ew||(ew=eN(['<div class="','" part="container"> '," </div>"])),tc({wide:this.displayFaces.length>1}),t):V(e_||(e_=eN(['<a class="','" part="container" href="','" target="_blank" rel="nofollow noreferrer noopener"> '," </a>"])),tc({wide:this.displayFaces.length>1}),this.state.cardInfo.url,t))}}],eT(o.prototype,e),r&&eT(o,r),o}(en),eF=r(203);function eM(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eV(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}function eB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var eU,ez,eL,eX,e$,eq,eY,eH,eW,eJ,eK,eG,eZ,eQ=function(){var t,e;function r(t){var e=t.instant,n=t.sorcery,i=t.artifact,o=t.creature,a=t.enchantment,s=t.land,l=t.planeswalker,c=t.commander,u=t.companion,p=t.sideboard;eV(this,r),this.instant=this.toSection(th,e),this.sorcery=this.toSection(tm,n),this.artifact=this.toSection(ty,i),this.creature=this.toSection(tb,o),this.enchantment=this.toSection(tg,a),this.land=this.toSection(tv,s),this.planeswalker=this.toSection(tw,l),this.companion=this.toSection("Companion",u),this.commander=this.toSection("Commander",c),this.sideboard=this.toSection("Sideboard",p)}return e=[{key:"fromApi",value:function(t,e){var r,n=(eM(r={},tb,[]),eM(r,tw,[]),eM(r,th,[]),eM(r,tm,[]),eM(r,ty,[]),eM(r,tg,[]),eM(r,tv,[]),r),i=function(e){var r=tI.createKey(e.name,e.set,e.collectors);if(tI.has(r)){var n=tI.get(r,!0);return n.amount=e.amount,n}var i=tz.fromApi(t.find(function(t){return t.name.match(RegExp("^".concat(e.name),"i"))}),e.amount);return tI.set(r,i),i};e.deck.forEach(function(e){var r,i=tI.createKey(e.name,e.set,e.collectors);tI.has(i)&&(r=tI.get(i,!0));var o=t.find(function(t){return t.name.match(RegExp("^".concat(e.name),"i"))});(o||r)&&tS.some(function(t){if((r?r.type:tf.includes(o.layout)?o.card_faces[0].type_line:o.type_line).match(RegExp(t,"i"))){if(r)return r.amount=e.amount,n[t].push(r),!0;var a=tz.fromApi(o,e.amount);return n[t].push(a),tI.set(i,a),!0}})});var o=e.sideboard.map(function(t){return i(t)}),a=e.commander?i(e.commander):null,s=e.companion?i(e.companion):null;return new this({instant:n.Instant.length?n.Instant:null,sorcery:n.Sorcery.length?n.Sorcery:null,artifact:n.Artifact.length?n.Artifact:null,creature:n.Creature.length?n.Creature:null,enchantment:n.Enchantment.length?n.Enchantment:null,land:n.Land.length?n.Land:null,planeswalker:n.Planeswalker.length?n.Planeswalker:null,sideboard:o.length?o:null,commander:a,companion:s})}}],t=[{key:"toSection",value:function(t,e){return e?new e0({title:t,cards:e}):void 0}}],eB(r.prototype,t),e&&eB(r,e),r}(),e0=function t(e){var r=e.title,n=e.cards;eV(this,t),this.title=r,this.cards=Array.isArray(n)?n.sort(function(t,e){return t.name>e.name?1:-1}):[n]};function e1(t){return(e1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function e2(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function e5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function e3(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?e5(Object(r),!0).forEach(function(e){e8(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e5(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function e8(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function e6(t,e){return(e6=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function e9(t){return(e9=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function e7(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(t,e)||rt(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rt(t,e){if(t){if("string"==typeof t)return re(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?re(t,e):void 0}}function re(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var rr=e7(tA("SET_DECKLIST",function(t,e,r){return{type:t,scryfall:e,parser:r}}),2),rn=rr[0],ri=rr[1],ro=e7(tA("SET_SOURCE"),2),ra=ro[0],rs=ro[1],rl=e7(tA("SET_FETCHED"),2),rc=rl[0],ru=rl[1],rp=e7(tA("SET_PREVIEW"),2),rd=rp[0],rf=rp[1],rh=e7(tA("SET_EXPORT_NOTIFICATION"),2),rm=rh[0],ry=rh[1],rb=e7(tA("FLIP_PREVIEW"),2),rg=rb[0],rv=rb[1],rw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&e6(t,e)}(o,t);var e,r,n,i=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,e=e9(o);return t=n?Reflect.construct(e,arguments,e9(this).constructor):e.apply(this,arguments),t&&("object"===e1(t)||"function"==typeof t)?t:function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(this)});function o(){(function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")})(this,o),(e=i.call(this)).hidePreview=!1,e.hideExport=!1,e.inlineSideboard=!1;var t,e,r=(e8(t={},rn,function(t,r){return e3(e3({},t),{},{decklist:eQ.fromApi(r.scryfall,r.parser),parsedList:e.hideExport?void 0:r.parser})}),e8(t,ra,function(t,e){return e3(e3({},t),{},{source:e.value})}),e8(t,rc,function(t,e){return e3(e3({},t),{},{fetched:e.value})}),e8(t,rd,function(t,e){return e3(e3({},t),{},{preview:e.value,flipPreview:!1})}),e8(t,rm,function(t,e){return e3(e3({},t),{},{exportNotification:e.value})}),e8(t,rg,function(t){return e3(e3({},t),{},{flipPreview:!t.flipPreview})}),t);return e.createReducer({decklist:void 0,parsedList:void 0,source:void 0,fetched:!1,preview:void 0,exportNotification:void 0},r),e.fetchCards(e.textContent),e}return r=[{key:"properties",get:function(){return{hidePreview:{type:Boolean,attribute:"hide-preview"},hideExport:{type:Boolean,attribute:"hide-export"},heading:{type:String},inlineSideboard:{type:Boolean,attribute:"inline-sideboard"},src:{type:String}}}},{key:"styles",get:function(){return Z(eZ||(eZ=e2(["@keyframes fadein{from{opacity:0}to{opacity:1}}@keyframes fadeout{from{opacity:1}to{opacity:0}}seer-loader{display:block}[part=container]{animation:fadein 83ms ease-out;max-width:840px}[part=header]{display:flex;align-items:flex-start;margin-bottom:1rem}[part=heading]{margin:0;padding-right:1rem}.button{display:inline-block;border:none;padding:.5rem 1rem;background:#551a8b;color:#fff;font-size:.875rem;cursor:pointer;border-radius:3px;appearance:none;transition:background 166ms ease-out}.button--small{padding:.4rem .8rem;font-size:.75rem}.button:focus,.button:hover{background:#343242}[part=export]+[part=export]{margin-left:.5rem}[part=export]:first-of-type{margin-left:auto}[part=export-notification]{color:#75986e;font-size:.875rem;margin:0 0 0 auto;padding:8px 0;font-style:italic;animation:fadein 83ms cubic-bezier(.25,1,.5,1),fadeout ","ms linear ","ms}[part=export-notification]+[part=export]{margin-left:1rem}[part=body]{column-count:3}[part=preview-container]{position:relative;perspective:1200px;width:","px;height:","px}[part=preview]{width:100%;height:100%;background-image:url(https://gatherer.wizards.com/Handlers/Image.ashx?multiverseid=0&type=card);background-size:100% auto;background-repeat:no-repeat;position:relative;transition:transform 560ms ease-in-out;transform-style:preserve-3d;border-radius:","px}[part=preview].flipped{transform:rotateY(180deg)}[part=preview-image]{max-width:100%;position:absolute;backface-visibility:hidden;-webkit-backface-visibility:hidden}[part=preview-image]:first-child{border-radius:","px}[part=preview-image]+[part=preview-image]{transform:rotateY(180deg)}[part=flip-preview]{position:absolute;z-index:10;bottom:1px;left:50%;transform:translateX(-50%)}[part=section]{padding:.5rem;margin:0;line-height:1.5}[part=section]:not(.section--sideboard){page-break-inside:avoid;break-inside:avoid-column;display:table}.section--sideboard [part=section-title]{padding:0 .5rem;column-span:all}[part=section-title]{font-weight:700;margin-bottom:.25rem}[part=section-item]{margin:0}[part=separator]{column-span:all;border-top:1px solid #551a8b}@media screen and (max-width:","px){[part=body]{column-count:2}}@media screen and (max-width:540px){[part=body]{column-count:1}[part=preview]{margin:0 auto}}"])),1500,1500,222,310,9,9,767)}}],e=[{key:"src",set:function(t){t!==this.state.source&&this.fetchExternalList(t)}},{key:"fetchExternalList",value:function(t){var e=this;fetch(t).then(function(t){if(200===t.status)return t.text()}).then(function(r){r&&e.dispatch(rs(t),function(){return e.fetchCards(r)})})}},{key:"fetchCards",value:function(t){var e,r=this,n=t.trim()?(0,eF.autoParse)(t):void 0;if(null!=n&&n.deck.length){var i=n.deck.concat(n.sideboard,n.commander,n.companion).filter(function(t){return!!t});i=((function(t){if(Array.isArray(t))return re(t)})(e=new Map(i.map(function(t){return[t.name,t]})).values())||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||rt(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).filter(function(t){return!tI.has(tI.createKey(t.name,t.set,t.collectors))});for(var o=Math.ceil(i.length/75),a=[],s=0;s<o;s++)a.push({identifiers:i.slice(75*s,75*(s+1)).map(function(t){return t.collectors&&t.set&&!tx.includes(t.set.toUpperCase())?{set:t.set,collector_number:t.collectors.toString()}:t.set&&!tx.includes(t.set.toUpperCase())?{name:t.name,set:t.set}:{name:t.name}})});Promise.all(a.map(function(t){return fetch("".concat(r.apiRoot,"cards/collection"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()})})).then(function(t){var e=t.filter(function(t){return"bad_request"===t.code});if(e.length>0)return e.forEach(function(t){return console.error(t.details)}),r.dispatch(ru(!0)),void r.emitEvent("fetchError");var i=t.map(function(t){return t.data}).flat();t.map(function(t){return t.not_found}).flat().forEach(function(t){return console.error("Did not find results for: ",t)}),r.dispatch(ri(i,n)),r.dispatch(ru(!0)),r.emitEvent("fetchList")})}}},{key:"displayPreview",value:function(t){var e=this;this.hidePreview||this.dispatch(rf(t),function(){return e.emitEvent("previewChange")})}},{key:"handleMouseEnter",value:function(t,e){ei(t)?t.preventDefault():this.displayPreview(e)}},{key:"handleMobileTouch",value:function(t,e){var r;ei(t)&&(this.emitEvent("touchCard"),(null===(r=this.state.preview)||void 0===r?void 0:r.name)===e.name||this.hidePreview||(t.preventDefault(),this.displayPreview(e)))}},{key:"onTabFocusIn",value:function(t,e){ei(t)||"Tab"!==t.code||this.displayPreview(e)}},{key:"exportDeck",value:function(t){var e=this,r=function(t){return"".concat(t.amount," ").concat(t.name,"\n")},n="";if(t===tO&&(this.state.parsedList.commander?n+="Commander\n".concat(r(this.state.parsedList.commander),"\n"):this.state.parsedList.companion&&(n+="Companion\n".concat(r(this.state.parsedList.companion),"\n")),n+="Deck\n"),this.state.parsedList.deck.forEach(function(t){return n+=r(t)}),this.state.parsedList.sideboard.length>0&&(t===tO&&(n+="\nSideboard"),n+="\n",this.state.parsedList.sideboard.forEach(function(t){return n+=r(t)})),t===tP&&this.state.parsedList.commander&&(n+="\n".concat(r(this.state.parsedList.commander))),t===tP){var i=document.createElement("a");i.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(n)),i.setAttribute("download",this.heading?"".concat(this.heading,".txt"):"deck.txt"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)}else navigator.clipboard.writeText(n.trim()).then(function(){e.dispatch(ry("Copied to clipboard"),function(){return setTimeout(function(){return e.dispatch(ry(void 0))},3e3)})});this.emitEvent("deckExported")}},{key:"renderDeckSection",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?V(eU||(eU=e2([' <dl part="section" class="','"> <dt part="section-title">'," (",")</dt> "," </dl> "])),null!=r?r:"",t.title,t.cards.reduce(function(t,e){return t+e.amount},0),t.cards.map(function(t){return V(ez||(ez=e2([' <dd part="section-item"> ','x <a href="','" target="_blank" rel="nofollow noreferrer noopener" part="link" @mouseenter="','" @click="','" @keyup="','"> '," </a> </dd> "])),t.amount,t.url,function(r){return e.handleMouseEnter(r,t)},function(r){return e.handleMobileTouch(r,t)},function(r){return e.onTabFocusIn(r,t)},t.name)})):null}},{key:"render",value:function(){var t,e=this;return this.state.fetched?V(eX||(eX=e2([' <div part="container"> ',' <div part="body"> '," "," "," "," "," "," </div> </div> "])),this.heading||!this.hideExport?V(e$||(e$=e2([' <div part="header"> '," "," </div> "])),this.heading?V(eq||(eq=e2(['<h2 part="heading">',"</h2>"])),this.heading):null,this.hideExport?null:V(eY||(eY=e2([" ",' <button type="button" part="export" class="button" @click="','"> Arena </button> <button type="button" part="export" class="button" @click="','"> MTGO </button> '])),this.state.exportNotification?V(eH||(eH=e2([' <p part="export-notification">',"</p> "])),this.state.exportNotification):null,function(){return e.exportDeck(tO)},function(){return e.exportDeck(tP)})):null,this.hidePreview?null:V(eW||(eW=e2([' <div part="preview-container"> <div part="preview" class="','"> '," </div> "," </div> "])),tc({flipped:this.state.flipPreview}),this.state.preview?this.state.preview.faces.map(function(t){return V(eJ||(eJ=e2([' <img part="preview-image" src="','" alt="','"> '])),t.image,t.name)}):null,(null===(t=this.state.preview)||void 0===t?void 0:t.faces.length)>1?V(eK||(eK=e2([' <button type="button" part="flip-preview" class="button button--small" @click="','"> Flip </button> '])),function(){return e.dispatch(rv())}):null),this.renderDeckSection(this.state.decklist.commander),this.renderDeckSection(this.state.decklist.companion),t_.map(function(t){return e.renderDeckSection(e.state.decklist[t.toLowerCase()])}),this.state.decklist.sideboard&&!this.inlineSideboard?V(eG||(eG=e2(['<hr part="separator">']))):null,this.renderDeckSection(this.state.decklist.sideboard,this.inlineSideboard?null:"section--sideboard")):V(eL||(eL=e2([' <seer-loader part="loader"></seer-loader> '])))}}],e4(o.prototype,e),r&&e4(o,r),o}(tj);customElements.define("seer-loader",ta),customElements.define("card-link",eA),customElements.define("card-inline",eD),customElements.define("deck-list",rw)})()})()}}]);