(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[384],{3376:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/crt",function(){return n(4576)}])},1788:function(e,t,n){"use strict";n.d(t,{y:function(){return c}});var r=n(5893),o=(n(7294),n(9008)),i="https://im-sticky.github.io";function c(e){var t=e.title,n=e.description,c=e.url,a=e.image,l=void 0===a?"/mstile-144x144.png":a,u=e.children;return(0,r.jsxs)(o.default,{children:[(0,r.jsxs)("title",{children:["Alex Craig | ",t]}),(0,r.jsx)("meta",{property:"og:site_name",content:"Alex Craig's Portfolio"}),(0,r.jsx)("meta",{property:"og:type",content:"website"}),(0,r.jsx)("meta",{property:"og:url",content:"".concat(i,"/").concat(c)}),(0,r.jsx)("meta",{property:"og:title",content:t}),(0,r.jsx)("meta",{property:"og:description",content:n}),(0,r.jsx)("meta",{property:"og:image",content:l}),(0,r.jsx)("meta",{name:"twitter:site",content:"@im_sticky"}),(0,r.jsx)("meta",{name:"twitter:card",content:"summary"}),(0,r.jsx)("meta",{name:"twitter:url",content:"".concat(i,"/").concat(c)}),(0,r.jsx)("meta",{name:"twitter:title",content:t}),(0,r.jsx)("meta",{name:"twitter:description",content:n}),(0,r.jsx)("meta",{name:"twitter:image",content:l}),u]})}},4576:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return v},default:function(){return d}});var r=n(5893),o=n(7294),i=n(6010),c=n(5050),a=n(1788),l=n(1202),u=n.n(l);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){for(var t=[],n=1;n<=10;n++)t.push((0,r.jsx)("span",{className:(0,i.Z)(u()["volume-bar"],s({},u()["volume-bar--active"],10*n<=e))},"vb.".concat(n)));return t}var v=!0;function d(e){var t=e.clips,n=(0,o.useState)(),l=n[0],v=n[1],d=(0,o.useState)(),_=d[0],m=d[1],p=(0,o.useState)(0),h=p[0],x=p[1],y=(0,o.useState)(100),j=y[0],w=y[1],g=(0,o.useState)(!1),C=g[0],b=g[1],k=(0,o.useState)(!1),N=k[0],E=k[1],A=(0,o.useState)(),S=A[0],R=A[1],T=(0,o.useRef)(),P=(0,o.useRef)(),O=(0,o.useRef)(),Q=(0,o.useRef)(),Z=function(){if(T.current&&P.current&&O.current){var e=T.current.getBoundingClientRect();P.current.style.top="".concat(e.y,"px"),P.current.style.left="".concat(e.x,"px"),O.current.style.width="".concat(e.width*(4/3),"px"),O.current.style.height="".concat(e.height,"px")}};(0,o.useEffect)((function(){R({power:{on:new Audio("/crt/power_on.mp3"),off:new Audio("/crt/power_off.mp3")},channel:new Audio("/crt/channel_change.mp3"),volume:new Audio("/crt/volume_change.mp3")});var e=t.map((function(e){return{value:e,sort:Math.random()}})).sort((function(e,t){return e.sort-t.sort})).map((function(e){return e.value}));return v(e),m(e[h]),Z(),window.addEventListener("resize",Z),function(){return window.removeEventListener("resize",Z)}}),[]),(0,o.useEffect)((function(){var e,t;_&&(null===(e=Q.current)||void 0===e||e.load(),N&&(null===(t=Q.current)||void 0===t||t.play()))}),[null===_||void 0===_?void 0:_.slug]),(0,o.useEffect)((function(){l&&m(l[h])}),[h]),(0,o.useEffect)((function(){N?(Q.current.load(),Q.current.play()):Q.current.pause()}),[N]),(0,o.useEffect)((function(){if(N){j>=0&&j<=100&&(Q.current.volume=j/100),b(!0);var e=setTimeout((function(){return b(!1)}),1200);return function(){return clearTimeout(e)}}}),[j]);var X=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r){r.preventDefault(),(N||n)&&e(),t.play()}},B=function(e){return function(){var t=h+e;t<0?t=l.length-1:t>=l.length&&(t=0),x(t)}},G=function(e){return function(){var t=j+e;t<=100&&t>=0?w(t):(b(!0),setTimeout((function(){return b(!1)}),1200))}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.y,{url:"crt",title:"CRT.tv",description:"A CRT that displays game clips on different channels"}),(0,r.jsx)(c.$,{grow:!0,className:u().section,children:(0,r.jsxs)("div",{className:u().background,children:[(0,r.jsx)("div",{className:u().container,ref:P,children:(0,r.jsxs)("div",{className:(0,i.Z)(u().crt,s({},u()["crt--on"],N)),ref:O,children:[(0,r.jsx)("div",{className:u().screen,children:(0,r.jsx)("video",{loop:!0,className:u().video,ref:Q,children:(0,r.jsx)("source",{src:"/crt/clips/".concat(null===_||void 0===_?void 0:_.slug,".").concat(null===_||void 0===_?void 0:_.mimetype),type:"video/".concat(null===_||void 0===_?void 0:_.mimetype)})})}),(0,r.jsx)("div",{className:u()["channel-overlay"],children:"AV-1"}),(0,r.jsx)("div",{className:(0,i.Z)(u()["volume-overlay"],s({},u()["volume-overlay--active"],C)),children:f(j)})]})}),(0,r.jsx)("video",{autoPlay:!0,loop:!0,muted:!0,className:u().video__overlay,children:(0,r.jsx)("source",{src:"/crt/transparent-screen-crt.webm",type:"video/webm"})}),(0,r.jsxs)("svg",{viewBox:"0 0 1920 1080",preserveAspectRatio:"xMidYMid slice",className:u()["controls-map"],children:[(0,r.jsx)("rect",{ref:T,x:"589",y:"141",fill:"#fff",opacity:"0",width:"704",height:"530"}),(0,r.jsx)("a",{href:"#power",onClick:X((function(){return E(!N)}),N?null===S||void 0===S?void 0:S.power.off:null===S||void 0===S?void 0:S.power.on,!0),children:(0,r.jsx)("rect",{x:"745",y:"911",fill:"#fff",opacity:"0",width:"35",height:"35"})}),(0,r.jsx)("a",{href:"#voldown",onClick:X(G(-10),null===S||void 0===S?void 0:S.volume),children:(0,r.jsx)("rect",{x:"1020",y:"917",fill:"#fff",opacity:"0",width:"25",height:"25"})}),(0,r.jsx)("a",{href:"#volup",onClick:X(G(10),null===S||void 0===S?void 0:S.volume),children:(0,r.jsx)("rect",{x:"1058",y:"917",fill:"#fff",opacity:"0",width:"25",height:"25"})}),(0,r.jsx)("a",{href:"#chandown",onClick:X(B(-1),null===S||void 0===S?void 0:S.channel),children:(0,r.jsx)("rect",{x:"1096",y:"917",fill:"#fff",opacity:"0",width:"25",height:"25"})}),(0,r.jsx)("a",{href:"#chanup",onClick:X(B(1),null===S||void 0===S?void 0:S.channel),children:(0,r.jsx)("rect",{x:"1134",y:"916",fill:"#fff",opacity:"0",width:"25",height:"25"})})]})]})})]})}},1202:function(e){e.exports={section:"Crt_section__6Vajf",background:"Crt_background__Pn0mk",video__overlay:"Crt_video__overlay__eyQxY","controls-map":"Crt_controls-map___u8Rd",container:"Crt_container__nXXPV",crt:"Crt_crt__wA400",video:"Crt_video__pgSQQ","crt--on":"Crt_crt--on__jer6o",flicker:"Crt_flicker__C1CqO","channel-overlay":"Crt_channel-overlay__cn5y6","overlay-anim":"Crt_overlay-anim__BTKGZ",screen:"Crt_screen__2J5_Q","turn-on":"Crt_turn-on__jt2nu","turn-off":"Crt_turn-off__g36lk","volume-overlay":"Crt_volume-overlay__oF5Ky","volume-overlay--active":"Crt_volume-overlay--active__63ZO9","volume-bar":"Crt_volume-bar__K4wG_","volume-bar--active":"Crt_volume-bar--active__mLUlQ"}},9008:function(e,t,n){e.exports=n(3121)}},function(e){e.O(0,[774,888,179],(function(){return t=3376,e(e.s=t);var t}));var t=e.O();_N_E=t}]);