(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[384],{4957:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/crt",function(){return n(9601)}])},9087:function(e,t,n){"use strict";n.d(t,{_:function(){return r}});var r="https://im-sticky.github.io"},9601:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return d},default:function(){return _}});var r=n(5893),o=n(7294),i=n(9008),c=n(6010),a=n(5050),l=n(9087),u=n(1202),s=n.n(u);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){for(var t=[],n=1;n<=10;n++)t.push((0,r.jsx)("span",{className:(0,c.Z)(s()["volume-bar"],f({},s()["volume-bar--active"],10*n<=e))},"vb.".concat(n)));return t}var d=!0;function _(e){var t=e.clips,n=(0,o.useState)(),u=n[0],d=n[1],_=(0,o.useState)(),m=_[0],p=_[1],h=(0,o.useState)(0),x=h[0],y=h[1],w=(0,o.useState)(100),j=w[0],g=w[1],C=(0,o.useState)(!1),b=C[0],k=C[1],N=(0,o.useState)(!1),E=N[0],R=N[1],A=(0,o.useState)(),T=A[0],S=A[1],P=(0,o.useRef)(),O=(0,o.useRef)(),Q=(0,o.useRef)(),Z=(0,o.useRef)(),X=function(){if(P.current&&O.current&&Q.current){var e=P.current.getBoundingClientRect();O.current.style.top="".concat(e.y,"px"),O.current.style.left="".concat(e.x,"px"),Q.current.style.width="".concat(e.width*(4/3),"px"),Q.current.style.height="".concat(e.height,"px")}};(0,o.useEffect)((function(){S({power:{on:new Audio("/crt/power_on.mp3"),off:new Audio("/crt/power_off.mp3")},channel:new Audio("/crt/channel_change.mp3"),volume:new Audio("/crt/volume_change.mp3")});var e=t.map((function(e){return{value:e,sort:Math.random()}})).sort((function(e,t){return e.sort-t.sort})).map((function(e){return e.value}));return d(e),p(e[x]),X(),window.addEventListener("resize",X),function(){return window.removeEventListener("resize",X)}}),[]),(0,o.useEffect)((function(){var e,t;m&&(null===(e=Z.current)||void 0===e||e.load(),E&&(null===(t=Z.current)||void 0===t||t.play()))}),[null===m||void 0===m?void 0:m.slug]),(0,o.useEffect)((function(){u&&p(u[x])}),[x]),(0,o.useEffect)((function(){E?(Z.current.load(),Z.current.play()):Z.current.pause()}),[E]),(0,o.useEffect)((function(){if(E){j>=0&&j<=100&&(Z.current.volume=j/100),k(!0);var e=setTimeout((function(){return k(!1)}),1200);return function(){return clearTimeout(e)}}}),[j]);var B=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r){r.preventDefault(),(E||n)&&e(),t.play()}},G=function(e){return function(){var t=x+e;t<0?t=u.length-1:t>=u.length&&(t=0),y(t)}},K=function(e){return function(){var t=j+e;t<=100&&t>=0?g(t):(k(!0),setTimeout((function(){return k(!1)}),1200))}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.default,{children:[(0,r.jsx)("title",{children:"Alex Craig | CRT.tv"}),(0,r.jsx)("meta",{property:"og:site_name",content:"Alex Craig's Portfolio"}),(0,r.jsx)("meta",{property:"og:type",content:"website"}),(0,r.jsx)("meta",{property:"og:url",content:"".concat(l._,"/crt")}),(0,r.jsx)("meta",{property:"og:title",content:"CRT.tv"}),(0,r.jsx)("meta",{property:"og:description",content:"A CRT that displays game clips on different channels"}),(0,r.jsx)("meta",{property:"og:image",content:"/mstile-144x144.png"}),(0,r.jsx)("meta",{name:"twitter:site",content:"@im_sticky"}),(0,r.jsx)("meta",{name:"twitter:card",content:"summary"}),(0,r.jsx)("meta",{name:"twitter:url",content:"".concat(l._,"/crt")}),(0,r.jsx)("meta",{name:"twitter:title",content:"CRT.tv"}),(0,r.jsx)("meta",{name:"twitter:description",content:"A CRT that displays game clips on different channels"}),(0,r.jsx)("meta",{name:"twitter:image",content:"/mstile-144x144.png"})]}),(0,r.jsx)(a.$,{grow:!0,id:"crt",className:s().section,children:(0,r.jsxs)("div",{className:s().background,children:[(0,r.jsx)("div",{className:s().container,ref:O,children:(0,r.jsxs)("div",{className:(0,c.Z)(s().crt,f({},s()["crt--on"],E)),ref:Q,children:[(0,r.jsx)("div",{className:s().screen,children:(0,r.jsx)("video",{loop:!0,className:s().video,ref:Z,children:(0,r.jsx)("source",{src:"/crt/clips/".concat(null===m||void 0===m?void 0:m.slug,".").concat(null===m||void 0===m?void 0:m.mimetype),type:"video/".concat(null===m||void 0===m?void 0:m.mimetype)})})}),(0,r.jsx)("div",{className:s()["channel-overlay"],children:"AV-1"}),(0,r.jsx)("div",{className:(0,c.Z)(s()["volume-overlay"],f({},s()["volume-overlay--active"],b)),children:v(j)})]})}),(0,r.jsx)("video",{autoPlay:!0,loop:!0,muted:!0,className:s().video__overlay,children:(0,r.jsx)("source",{src:"/crt/transparent-screen-crt.webm",type:"video/webm"})}),(0,r.jsxs)("svg",{viewBox:"0 0 1920 1080",preserveAspectRatio:"xMidYMid slice",className:s()["controls-map"],children:[(0,r.jsx)("rect",{ref:P,x:"589",y:"141",fill:"#fff",opacity:"0",width:"704",height:"530"}),(0,r.jsx)("a",{href:"#power",onClick:B((function(){return R(!E)}),E?null===T||void 0===T?void 0:T.power.off:null===T||void 0===T?void 0:T.power.on,!0),children:(0,r.jsx)("rect",{x:"745",y:"911",fill:"#fff",opacity:"0",width:"35",height:"35"})}),(0,r.jsx)("a",{href:"#voldown",onClick:B(K(-10),null===T||void 0===T?void 0:T.volume),children:(0,r.jsx)("rect",{x:"1020",y:"917",fill:"#fff",opacity:"0",width:"25",height:"25"})}),(0,r.jsx)("a",{href:"#volup",onClick:B(K(10),null===T||void 0===T?void 0:T.volume),children:(0,r.jsx)("rect",{x:"1058",y:"917",fill:"#fff",opacity:"0",width:"25",height:"25"})}),(0,r.jsx)("a",{href:"#chandown",onClick:B(G(-1),null===T||void 0===T?void 0:T.channel),children:(0,r.jsx)("rect",{x:"1096",y:"917",fill:"#fff",opacity:"0",width:"25",height:"25"})}),(0,r.jsx)("a",{href:"#chanup",onClick:B(G(1),null===T||void 0===T?void 0:T.channel),children:(0,r.jsx)("rect",{x:"1134",y:"916",fill:"#fff",opacity:"0",width:"25",height:"25"})})]})]})})]})}},1202:function(e){e.exports={section:"Crt_section__6Vajf",background:"Crt_background__Pn0mk",video__overlay:"Crt_video__overlay__eyQxY","controls-map":"Crt_controls-map___u8Rd",container:"Crt_container__nXXPV",crt:"Crt_crt__wA400",video:"Crt_video__pgSQQ","crt--on":"Crt_crt--on__jer6o",flicker:"Crt_flicker__C1CqO","channel-overlay":"Crt_channel-overlay__cn5y6","overlay-anim":"Crt_overlay-anim__BTKGZ",screen:"Crt_screen__2J5_Q","turn-on":"Crt_turn-on__jt2nu","turn-off":"Crt_turn-off__g36lk","volume-overlay":"Crt_volume-overlay__oF5Ky","volume-overlay--active":"Crt_volume-overlay--active__63ZO9","volume-bar":"Crt_volume-bar__K4wG_","volume-bar--active":"Crt_volume-bar--active__mLUlQ"}},9008:function(e,t,n){e.exports=n(3121)}},function(e){e.O(0,[774,888,179],(function(){return t=4957,e(e.s=t);var t}));var t=e.O();_N_E=t}]);