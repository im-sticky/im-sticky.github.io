(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[384],{4957:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/crt",function(){return n(9601)}])},9087:function(e,t,n){"use strict";n.d(t,{_:function(){return r}});var r="https://im-sticky.github.io"},9601:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return d},default:function(){return _}});var r=n(5893),o=n(7294),i=n(9008),c=n(6010),a=n(5050),l=n(9087),u=n(1202),s=n.n(u);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){for(var t=[],n=1;n<=10;n++)t.push((0,r.jsx)("span",{className:(0,c.Z)(s()["volume-bar"],f({},s()["volume-bar--active"],10*n<=e))},"vb.".concat(n)));return t}var d=!0;function _(e){var t=e.clips,n=(0,o.useState)(t.map((function(e){return{value:e,sort:Math.random()}})).sort((function(e,t){return e.sort-t.sort})).map((function(e){return e.value}))),u=n[0],d=(n[1],(0,o.useState)(u[0])),_=d[0],m=d[1],p=(0,o.useState)(0),h=p[0],x=p[1],y=(0,o.useState)(100),w=y[0],j=y[1],g=(0,o.useState)(!1),C=g[0],b=g[1],k=(0,o.useState)(!1),N=k[0],E=k[1],A=(0,o.useState)(),R=A[0],T=A[1],S=(0,o.useRef)(),P=(0,o.useRef)(),O=(0,o.useRef)(),Q=function(){if(P.current&&O.current){var e=P.current.getBoundingClientRect();O.current.style.top="".concat(e.y,"px"),O.current.style.left="".concat(e.x,"px"),O.current.style.width="".concat(e.width*(4/3),"px")}};(0,o.useEffect)((function(){return T({power:{on:new Audio("/crt/power_on.mp3"),off:new Audio("/crt/power_off.mp3")},channel:new Audio("/crt/channel_change.mp3"),volume:new Audio("/crt/volume_change.mp3")}),Q(),window.addEventListener("resize",Q),function(){return window.removeEventListener("resize",Q)}}),[]),(0,o.useEffect)((function(){var e,t;_&&(null===(e=S.current)||void 0===e||e.load(),N&&(null===(t=S.current)||void 0===t||t.play()))}),[null===_||void 0===_?void 0:_.slug]),(0,o.useEffect)((function(){m(u[h])}),[h]),(0,o.useEffect)((function(){N?(S.current.load(),S.current.play()):S.current.pause()}),[N]),(0,o.useEffect)((function(){if(N){w>=0&&w<=100&&(S.current.volume=w/100),b(!0);var e=setTimeout((function(){return b(!1)}),1200);return function(){return clearTimeout(e)}}}),[w]);var Z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r){r.preventDefault(),(N||n)&&e(),t.play()}},X=function(e){return function(){var t=h+e;t<0?t=u.length-1:t>=u.length&&(t=0),x(t)}},B=function(e){return function(){var t=w+e;t<=100&&t>=0?j(t):(b(!0),setTimeout((function(){return b(!1)}),1200))}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.default,{children:[(0,r.jsx)("title",{children:"Alex Craig | CRT.tv"}),(0,r.jsx)("meta",{property:"og:site_name",content:"Alex Craig's Portfolio"}),(0,r.jsx)("meta",{property:"og:type",content:"website"}),(0,r.jsx)("meta",{property:"og:url",content:"".concat(l._,"/crt")}),(0,r.jsx)("meta",{property:"og:title",content:"CRT.tv"}),(0,r.jsx)("meta",{property:"og:description",content:"A CRT that displays game clips on different channels"}),(0,r.jsx)("meta",{property:"og:image",content:"/mstile-144x144.png"}),(0,r.jsx)("meta",{name:"twitter:site",content:"@im_sticky"}),(0,r.jsx)("meta",{name:"twitter:card",content:"summary"}),(0,r.jsx)("meta",{name:"twitter:url",content:"".concat(l._,"/crt")}),(0,r.jsx)("meta",{name:"twitter:title",content:"CRT.tv"}),(0,r.jsx)("meta",{name:"twitter:description",content:"A CRT that displays game clips on different channels"}),(0,r.jsx)("meta",{name:"twitter:image",content:"/mstile-144x144.png"})]}),(0,r.jsx)(a.$,{grow:!0,id:"crt",children:(0,r.jsxs)("div",{className:s().background,children:[(0,r.jsx)("div",{className:s().container,ref:O,children:(0,r.jsxs)("div",{className:(0,c.Z)(s().crt,f({},s()["crt--on"],N)),children:[(0,r.jsx)("div",{className:s().screen,children:(0,r.jsx)("video",{loop:!0,className:s().video,ref:S,children:(0,r.jsx)("source",{src:"/crt/clips/".concat(null===_||void 0===_?void 0:_.slug,".").concat(null===_||void 0===_?void 0:_.mimetype),type:"video/".concat(null===_||void 0===_?void 0:_.mimetype)})})}),(0,r.jsx)("div",{className:s()["channel-overlay"],children:"AV-1"}),(0,r.jsx)("div",{className:(0,c.Z)(s()["volume-overlay"],f({},s()["volume-overlay--active"],C)),children:v(w)})]})}),(0,r.jsx)("video",{autoPlay:!0,loop:!0,muted:!0,className:s().video__overlay,children:(0,r.jsx)("source",{src:"/crt/transparent-screen-crt.webm",type:"video/webm"})}),(0,r.jsxs)("svg",{viewBox:"0 0 1920 1080",preserveAspectRatio:"xMidYMid slice",className:s()["controls-map"],children:[(0,r.jsx)("rect",{ref:P,x:"589",y:"141",fill:"#fff",opacity:"0",width:"704",height:"530"}),(0,r.jsx)("a",{href:"#power",onClick:Z((function(){return E(!N)}),N?null===R||void 0===R?void 0:R.power.off:null===R||void 0===R?void 0:R.power.on,!0),children:(0,r.jsx)("rect",{x:"745",y:"911",fill:"#fff",opacity:"0",width:"35",height:"35"})}),(0,r.jsx)("a",{href:"#voldown",onClick:Z(B(-10),null===R||void 0===R?void 0:R.volume),children:(0,r.jsx)("rect",{x:"1020",y:"917",fill:"#fff",opacity:"0",width:"25",height:"25"})}),(0,r.jsx)("a",{href:"#volup",onClick:Z(B(10),null===R||void 0===R?void 0:R.volume),children:(0,r.jsx)("rect",{x:"1058",y:"917",fill:"#fff",opacity:"0",width:"25",height:"25"})}),(0,r.jsx)("a",{href:"#chandown",onClick:Z(X(-1),null===R||void 0===R?void 0:R.channel),children:(0,r.jsx)("rect",{x:"1096",y:"917",fill:"#fff",opacity:"0",width:"25",height:"25"})}),(0,r.jsx)("a",{href:"#chanup",onClick:Z(X(1),null===R||void 0===R?void 0:R.channel),children:(0,r.jsx)("rect",{x:"1134",y:"916",fill:"#fff",opacity:"0",width:"25",height:"25"})})]})]})})]})}},1202:function(e){e.exports={background:"Crt_background__Pn0mk",video__overlay:"Crt_video__overlay__eyQxY","controls-map":"Crt_controls-map___u8Rd",container:"Crt_container__nXXPV",crt:"Crt_crt__wA400",video:"Crt_video__pgSQQ","crt--on":"Crt_crt--on__jer6o",flicker:"Crt_flicker__C1CqO","channel-overlay":"Crt_channel-overlay__cn5y6","overlay-anim":"Crt_overlay-anim__BTKGZ",screen:"Crt_screen__2J5_Q","turn-on":"Crt_turn-on__jt2nu","turn-off":"Crt_turn-off__g36lk","volume-overlay":"Crt_volume-overlay__oF5Ky","volume-overlay--active":"Crt_volume-overlay--active__63ZO9","volume-bar":"Crt_volume-bar__K4wG_","volume-bar--active":"Crt_volume-bar--active__mLUlQ"}},9008:function(e,t,n){e.exports=n(3121)}},function(e){e.O(0,[774,888,179],(function(){return t=4957,e(e.s=t);var t}));var t=e.O();_N_E=t}]);